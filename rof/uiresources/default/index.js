/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";const t=new RegExp("^s+|s+$","g"),e=["input","textarea"];function n(t){return e.indexOf(t.tagName.toLowerCase())>-1}const i=function(){class e{static isFormElement(t){for(t=t.parentElement;t;){if("GAMEFACE-FORM-CONTROL"===t.tagName||"gameface-form-control"===t.tagName)return!0;t=t.parentElement}return!1}static tooLong(){return!1}static tooShort(){return!1}static rangeOverflow(){return!1}static rangeUnderflow(){return!1}static valueMissing(t){return t.hasAttribute("required")&&!t.value}static nameMissing(t){return!t.name&&!t.getAttribute("name")}static isRequired(t){return t.hasAttribute("required")}static customError(){return!1}static willSerialize(t){return!this.nameMissing(t)}static isBadURL(){return!1}static isBadEmail(){return!1}}class i{constructor(t){this.element=t}isFormElement(){return e.isFormElement(this.element)}tooLong(){return n(this.element)?r.tooLong(this.element):e.tooLong()}tooShort(){return n(this.element)?r.tooShort(this.element):e.tooShort()}rangeOverflow(){return n(this.element)?r.rangeOverflow(this.element):e.rangeOverflow()}rangeUnderflow(){return n(this.element)?r.rangeUnderflow(this.element):e.rangeUnderflow()}valueMissing(){return e.valueMissing(this.element)}nameMissing(){return e.nameMissing(this.element)}customError(){return e.customError()}isRequired(){return e.isRequired(this.element)}willSerialize(){return e.willSerialize(this.element)}isBadEmail(){return!!n(this.element)&&r.isBadEmail(this.element)}isBadURL(){return!!n(this.element)&&r.isBadURL(this.element)}}class o extends HTMLElement{isFormElement(){return e.isFormElement(this)}tooLong(){return e.tooLong(this)}tooShort(){return e.tooShort(this)}valueMissing(){return e.valueMissing(this)}nameMissing(){return e.nameMissing(this)}customError(){return e.customError()}isRequired(){return e.isRequired(this)}rangeOverflow(){return e.rangeOverflow(this)}rangeUnderflow(){return e.rangeUnderflow(this)}willSerialize(){return e.willSerialize(this)}isBadEmail(){return e.isBadEmail(this)}isBadURL(){return e.isBadURL(this)}}class r{static tooLong(t){const e=t.getAttribute("maxlength");return!!e&&t.value.length>parseFloat(e)}static tooShort(t){const e=t.getAttribute("minlength");return!!e&&t.value.length<parseFloat(e)}static rangeOverflow(t){const e=t.getAttribute("max");return!!e&&parseFloat(t.value)>parseFloat(e)}static rangeUnderflow(t){const e=t.getAttribute("min");return!!e&&parseFloat(t.value)<parseFloat(e)}static isBadURL(t){if("url"!==t.getAttribute("type"))return!1;const e=t.pattern||t.getAttribute("pattern");return!!e&&!t.value.match(e)}static isBadEmail(t){return"email"===t.getAttribute("type")&&!t.value.match("@")}}const s="component-slot",a={DOWN:40,LEFT:37,RIGHT:39,UP:38,HOME:36,END:35,ENTER:13,ESCAPE:27,TAB:9,SHIFT:16,CTRL:17,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,LETTER_A:65},l=new class{constructor(){this.definedElements={},this.imported=this.imported||[],this.KEYCODES=a,this.cachedComponents={},this.CustomElementValidator=o,this.NativeElementValidator=i,this.TextFieldValidator=r,this.Validator=e}importScript(t){const e=document.createElement("script");e.setAttribute("src",t),document.body.appendChild(e)}loadHTML(t){return this.loadResource(t).then((t=>t.template))}whenDefined(t){if(void 0!==this.definedElements[t])return this.definedElements[t].promise;const e=this.definedElements[t]={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e.promise}defineCustomElement(t,e){this.definedElements[t]||(this.whenDefined(t),customElements.define(t,e),this.definedElements[t].resolve(e))}importComponent(t){requestAnimationFrame((()=>{this.importScript(t+"/script.js")}))}removeSlashes(t){return t.replace(/[/|\\]/g,"")}removeNewLines(e){return e.replace(t,"").trim()}removeCopyrightNotice(t){return t.replace("\x3c!--Copyright (c) Coherent Labs AD. All rights reserved. Licensed under the MIT License. See License.txt in the project root for license information. --\x3e","").trim()}resolveWithTemplate(t){return new Promise((e=>{e({template:t.template.cloneNode(!0),url:t.url})}))}loadResource(t){if(t.template&&"string"==typeof t.template){if(t.isRendered)return this.resolveWithTemplate(t);const e=document.createElement("div"),n=this.removeCopyrightNotice(t.template);return e.innerHTML=this.removeNewLines(n),new Promise((n=>{n({template:e.firstChild.cloneNode(!0),url:t.url})}))}if("object"==typeof t.template&&t.isRendered)return this.resolveWithTemplate(t);if(window.__optimize){const e=this.removeSlashes(t.url),n=document.getElementById(e).firstChild;return n?new Promise((e=>{e({template:n.cloneNode(!0),url:t.url})})):this.requestResource(t.url)}return this.requestResource(t.url)}requestResource(t){const e=new XMLHttpRequest,n=new Promise((function(n,i){e.onload=o=>{if(200==e.status){const i=document.createElement("div");i.innerHTML=e.responseText,n({template:i.firstChild.cloneNode(!0),url:t})}else i(o)},e.onerror=i}));return e.open("GET",t),e.send(),n}findSlots(t,e,n={}){const i=t.children,o=i.length;for(let t=0;t<o;++t){const o=i[t],r=o.tagName.toLowerCase();if(o instanceof u){const t=o.dataset.name;n[t]||(n[t]=[]),n[t].push(o),this.findSlots(o,e,n)}else if(o.hasAttribute("slot")){const t=o.getAttribute("slot");n[t]||(n[t]=[]),n[t].push(o),this.findSlots(o,e,n)}else("gameface-scrollable-container"===r||r!==s&&e!==r&&!this.definedElements[r])&&this.findSlots(o,e,n)}return n}replaceSlots(t,e){const n=e[0];if(t.length&&n.childNodes.length)for(;n.firstChild;)n.removeChild(n.lastChild);const i=n.parentNode;i.removeChild(n);for(let e=0;e<t.length;++e)i.appendChild(t[e])}transferContent(t,e){for(;e.childNodes.length>0;){const t=e.childNodes;e.removeChild(t[t.length-1])}for(;t.childNodes.length>0;){const n=t.childNodes[0];t.removeChild(n),e.appendChild(n)}}renderOnce(t){return!t.isRendered&&(this.render(t),t.isRendered=!0,!0)}render(t){const e=document.createElement("div");e.appendChild(t.template);const n=t.tagName.toLowerCase(),i=this.findSlots(e,n),o=this.findSlots(t,n),r=Object.keys(o);if(Object.keys(i).length)for(const t of r)o[t]&&i[t]&&this.replaceSlots(o[t],i[t]);this.transferContent(e,t)}transferChildren(t,e,n){const i=document.createElement("div");i.appendChild(t.template);const o=i.querySelector(e);n.forEach((t=>o.appendChild(t))),this.transferContent(i,t)}waitForFrames(t=(()=>{}),e=3){if(0===e)return t();e--,requestAnimationFrame((()=>this.waitForFrames(t,e)))}isBrowserGameface(){return navigator.userAgent.match("Cohtml")}};class c extends HTMLElement{constructor(){super()}connectedCallback(){const t=`/components/${this.dataset.url}/`,e=`gameface-${this.dataset.url}`;-1===l.imported.indexOf(e)&&(l.importComponent(t),l.imported.push(e)),this.appendChild(document.createElement(e))}}class u extends HTMLElement{constructor(){super(),this.originalAppendChild=this.appendChild,this.originalInsertBefore=this.insertBefore,this.originalReplaceChild=this.replaceChild,this.originalRemoveChild=this.removeChild,this.appendChild=t=>{const e=this.originalAppendChild(t);return this.disptachSlotChange(e),e},this.insertBefore=(t,e)=>{const n=this.originalInsertBefore(t,e);return this.disptachSlotChange(n),n},this.replaceChild=(t,e)=>{const n=this.originalReplaceChild(t,e);return this.disptachSlotChange(n),n},this.removeChild=t=>{const e=this.originalRemoveChild(t);return this.disptachSlotChange(e),e}}disptachSlotChange(t){this.dispatchEvent(new CustomEvent("slotchange"),{target:this,child:t})}}return l.defineCustomElement("component-import",c),l.defineCustomElement(s,u),l}();var o="|",r="@",s="Enabled",a="Checked",l="Tooltip",c="Visible",u="PosX",h="PosY",d="BackgroundTintColor",f="Text",p="Image",y="BackgrImage",v="Quantity",m="Color",b="HighlightColor",g="Selected",w="System.UIVisible",k="System.UIScale",O="System.KeysCppCantChange",C="System.KeysSentEachFrame";function E(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function P(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x,j,M=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),T(this,"visibleWindows",new Map),T(this,"windowsSet",new Map),T(this,"stickX",new Set),T(this,"stickY",new Set),T(this,"scaleUI",1)}var e,n;return e=t,(n=[{key:"setup",value:function(){this.bindCpp()}},{key:"bindCpp",value:function(){var t=this;engine.on("js_load_window",(function(e,n){t.loadWindow(e,n)})),engine.on("js_remove_window",(function(e){t.removeWindow(e)})),ut.bindValue(w,"1",this),ut.bindValue(k,"1",this),this.updated()}},{key:"loadWindow",value:function(t,e){var n=document.getElementsByClassName("ui")[0];if(n)if(document.querySelector("#"+e))engine.call("cpp_on_window_loaded",e);else{var i=new XMLHttpRequest;i.onload=function(t){var o=document.createElement("div");o.innerHTML=i.responseText;var r=o.querySelector("eq-screen");r.setAttribute("id",e),r.setAttribute("item",e),n.appendChild(r)},i.open("GET","windows/"+t+".html",!0),i.send()}}},{key:"removeWindow",value:function(t){var e=document.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"updated",value:function(){var t=ut.getValue(w);document.body.style.display="0"!==t?"":"none";var e=ut.getValue(k);if(null!==e&&""!==e){var n=parseFloat(e);n!==this.scaleUI&&this.setScaleUi(n)}}},{key:"setScaleUi",value:function(t){console.info("Set UI scale:",t),this.scaleUI=t;var e=10*t;document.getElementsByTagName("html")[0].style.fontSize="".concat(e,"px")}},{key:"windowShown",value:function(t,e){this.visibleWindows.set(t,e);var n=e.zClass;this.addToSet(e,n),this.setWindowZ(e,this.windowsSet.get(n).size)}},{key:"windowHidden",value:function(t){if(this.visibleWindows.has(t)){var e=this.visibleWindows.get(t);this.removeFromSet(e,e.zClass),this.visibleWindows.delete(t)}}},{key:"makeActive",value:function(t){var e=this;if(this.visibleWindows.has(t)){var n=this.visibleWindows.get(t);if(n){var i=0,o=n.zClass;this.removeFromSet(n,o),this.addToSet(n,o),this.windowsSet.get(o).forEach((function(t){i+=1,e.setWindowZ(t,i)}))}}}},{key:"zClassWasUpdated",value:function(t,e){this.removeFromSet(t,e),this.addToSet(t,t.zClass)}},{key:"screenSize",value:function(){return{w:window.innerWidth,h:window.innerHeight}}},{key:"getWindowRectangle",value:function(t){if(!this.visibleWindows.has(t))return console.error("getWindowRectangle error, no visible window",t),{x:0,y:0,w:100,h:100,x2:100,y2:100};var e=this.visibleWindows.get(t),n=e.positionX,i=e.positionY,o=e.width*this.scaleUI,r=e.height*this.scaleUI;return{x:n,y:i,w:o,h:r,x2:n+o,y2:i+r}}},{key:"initiateDocking",value:function(t){this.stickX.clear(),this.stickY.clear();var e=this.getWindowRectangle(t),n=this.screenSize();this.stickX.add({x:0,y:[-e.h,n.h]}).add({x:n.w-1-e.w,y:[-e.h,n.h]}),this.stickY.add({y:0,x:[-e.w,n.w]}).add({y:n.h-1-e.h,x:[-e.w,n.w]});var i,o=E(this.visibleWindows);try{for(o.s();!(i=o.n()).done;){var r=i.value[0];if(r!==t){var s=this.getWindowRectangle(r),a=s.x-e.w,l=s.y-e.h;s.x>=0&&s.x<n.w&&this.stickX.add({x:s.x,y:[l,l]}).add({x:s.x,y:[s.y2,s.y2]}).add({x:a,y:[l,s.y2]}),s.x2>=0&&s.x2<n.w&&this.stickX.add({x:s.x2,y:[l,s.y2]}).add({x:s.x2-e.w,y:[l,l]}).add({x:s.x2-e.w,y:[s.y2,s.y2]}),s.y>=0&&s.y<n.h&&this.stickY.add({y:s.y,x:[a,a]}).add({y:s.y,x:[s.x2,s.x2]}).add({y:l,x:[a,s.x2]}),s.y2>=0&&s.y2<n.h&&this.stickY.add({y:s.y2,x:[a,s.x2]}).add({y:s.y2-e.h,x:[a,a]}).add({y:s.y2-e.h,x:[s.x2,s.x2]})}}}catch(t){o.e(t)}finally{o.f()}}},{key:"distanceToSegment",value:function(t,e){return t<e[0]?e[0]-t:t>e[1]-1?t-(e[1]-1):0}},{key:"applyDocking",value:function(t,e){var n=this.screenSize();t>=n.w&&(t=n.w-1),e>=n.h&&(e=n.h-1);var i,o=10*this.scaleUI,r={x:t,distX:o,y:e,distY:o},s=E(this.stickX);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(this.distanceToSegment(e,a.y)<=o){var l=Math.abs(t-a.x);l<=r.distX&&(r.x=a.x,r.distX=l)}}}catch(t){s.e(t)}finally{s.f()}var c,u=E(this.stickY);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(this.distanceToSegment(t,h.x)<=o){var d=Math.abs(e-h.y);d<=r.distY&&(r.y=h.y,r.distY=d)}}}catch(t){u.e(t)}finally{u.f()}return{x:r.x,y:r.y}}},{key:"setWindowZ",value:function(t,e){this.setElemZ(t,t.zClass,e)}},{key:"setElemZ",value:function(t,e,n){var i=2e5*e+1e3*n;t.style.zIndex=String(i)}},{key:"addToSet",value:function(t,e){this.windowsSet.has(e)||this.windowsSet.set(e,new Set),this.windowsSet.get(e).add(t)}},{key:"removeFromSet",value:function(t,e){if(this.windowsSet.has(e)){var n=this.windowsSet.get(e);null==n||n.delete(t)}}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function A(t){var e=String(t%10).replace(".","");return Math.floor(t/10)+"."+e+"rem"}function L(t,e){return"translate(".concat(t,"px, ").concat(e,"px)")}function R(t,e,n){return"coh-color-matrix(".concat(t,", 0, 0, 0, 0, 0, ").concat(e,", 0, 0, 0, 0, 0, ").concat(n,", 0, 0, 0, 0, 0, 1, 0)")}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.min(Math.max(t,e),n)}function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=V(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function V(t,e){if(t){if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(t,e):void 0}}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}!function(t){t[t.Item=0]="Item",t[t.Submenu=1]="Submenu",t[t.Separator=2]="Separator"}(j||(j={}));var F=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o={x:n.x-2,y:n.y};return n.x+t>window.innerWidth&&(o.x=i>0?n.x-t-i+2:window.innerWidth-t),n.y+e>window.innerHeight&&(o.y=window.innerHeight-e),o},N=(x=function(){function t(e,n,i,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,"component",void 0),I(this,"items",void 0),I(this,"itemElements",void 0),I(this,"children",[]),I(this,"parent",null),I(this,"body",void 0),I(this,"container",void 0),I(this,"isSubmenu",!1),I(this,"x",void 0),I(this,"y",void 0),I(this,"dispatch",void 0),I(this,"_isVisible",void 0),I(this,"_pressedItemIndex",null),I(this,"_hoveredItemsSubmenu",null),this.dispatch=e,this.items=n,this.x=i,this.y=o,this.isSubmenu=r,this.attachContainer(),this.createMenu(),this.isVisible=!1,this.bindCpp()}var e,n;return e=t,(n=[{key:"bindCpp",value:function(){}},{key:"updated",value:function(){}},{key:"isVisible",get:function(){return this._isVisible},set:function(t){var e;if(this._isVisible=t,this.component.style.visibility=t?"visible":"hidden",this.isSubmenu){if(!this.parent)return;var n=this.parent.component.getBoundingClientRect(),i=n.width,o=n.right;e=F(this.component.scrollWidth,this.component.scrollHeight,{x:o,y:this.y},i)}else e=F(this.component.scrollWidth,this.component.scrollHeight,{x:this.x,y:this.y});this.component.style.transform=L(e.x,e.y)}},{key:"pressedItemIndex",get:function(){return this._pressedItemIndex},set:function(t){null!==this._pressedItemIndex&&this.itemElements[this._pressedItemIndex].classList.remove("pressed"),null!==t&&this.itemElements[t].classList.add("pressed"),this._pressedItemIndex=t}},{key:"hoveredItemsSubmenu",get:function(){return this._hoveredItemsSubmenu},set:function(t){var e;t!==this._hoveredItemsSubmenu&&(null===(e=this._hoveredItemsSubmenu)||void 0===e||e.hide(),null!==t&&(t.show(),this._hoveredItemsSubmenu=t))}},{key:"onClickOutside",value:function(t){var e=t.target;this.component.contains(e)||this.areChildrenUnderCursor(this.children,e)||this.hide()}},{key:"onKeydown",value:function(t){t.keyCode===i.KEYCODES.ESCAPE&&this.hide()}},{key:"show",value:function(){var t=this;i.waitForFrames((function(){t.isVisible=!0,t.isSubmenu||document.addEventListener("mousedown",t.onClickOutside)}),2),document.addEventListener("keydown",this.onKeydown)}},{key:"hide",value:function(){this.isVisible=!1,this.pressedItemIndex=null,document.removeEventListener("mousedown",this.onClickOutside),document.removeEventListener("keydown",this.onKeydown),this.children.forEach((function(t){t.hide()})),this.destroy()}},{key:"addChild",value:function(t){this.children.push(t)}},{key:"setParent",value:function(t){this.parent=t}},{key:"onItemMouseup",value:function(t){this.pressedItemIndex=null,ut.sendEvent(this.dispatch,"",X,"",t.command);for(var e=this.parent;e;)e.hide(),e=e.parent;this.hide()}},{key:"destroy",value:function(){document.body.removeChild(this.component)}},{key:"areChildrenUnderCursor",value:function(t,e){var n,i=_(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.component.contains(e))return!0;if(o.children.length&&this.areChildrenUnderCursor(o.children,e))return!0}}catch(t){i.e(t)}finally{i.f()}return!1}},{key:"attachContainer",value:function(){var t=this;this.component=document.createElement("context-menu"),this.component.classList.add("WDT_RoundedNoTitle"),this.container=document.createElement("div"),this.container.classList.add("container"),this.component.appendChild(this.container),["window-frame-top-left","window-frame-top","window-frame-top-right","window-frame-right-top","window-frame-right","window-frame-right-bottom","window-frame-bottom-right","window-frame-bottom","window-frame-bottom-left","window-frame-left-top","window-frame-left","window-frame-left-bottom","window-body"].forEach((function(e){var n=document.createElement("div");n.classList.add(e),t.container.appendChild(n)})),this.body=this.container.querySelector(".window-body");var e=document.createElement("div");e.classList.add("background-color");var n=document.createElement("div");n.classList.add("background"),e.appendChild(n),this.body.appendChild(e),M.setElemZ(this.component,800,0),document.body.appendChild(this.component)}},{key:"createMenuItem",value:function(t,e){var n=this,i=document.createElement("item");return i.classList.add("item"),t.checked&&i.classList.add("checked"),i.textContent=t.title,!1===t.enabled?i.classList.add("disabled"):(i.addEventListener("mousedown",(function(){n.pressedItemIndex=e})),i.addEventListener("mouseup",(function(){return n.onItemMouseup(t)})),i.addEventListener("mouseover",(function(){n.hoveredItemsSubmenu=null}))),i}},{key:"createSubmenu",value:function(e,n){var i,o=this,r=document.createElement("submenu");return r.classList.add("item"),r.classList.add("submenu"),r.textContent=e.title,!1===e.enabled?r.classList.add("disabled"):(r.addEventListener("mouseover",(function(){var n=r.getBoundingClientRect(),s=n.right,a=n.y;(i=new t(o.dispatch,e.items,s,a+-5,!0)).setParent(o),o.addChild(i),o.hoveredItemsSubmenu=i})),r.addEventListener("mousedown",(function(){o.pressedItemIndex=n}))),r}},{key:"createSeparator",value:function(t,e){var n=this,i=document.createElement("eq-separator");return i.addEventListener("mouseover",(function(){n.hoveredItemsSubmenu=null})),i}},{key:"createMenu",value:function(){var t,e,n,i=document.createElement("div"),o=_(this.items.entries());try{for(o.s();!(t=o.n()).done;){var r=(e=t.value,n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}}(e,n)||V(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[0],a=r[1];switch(a.type){case j.Item:i.appendChild(this.createMenuItem(a,s));break;case j.Submenu:i.appendChild(this.createSubmenu(a,s));break;case j.Separator:i.appendChild(this.createSeparator(a,s))}}}catch(t){o.e(t)}finally{o.f()}this.itemElements=i.children;var l,c=_(this.itemElements);try{for(c.s();!(l=c.n()).done;){var u=l.value;this.body.appendChild(u)}}catch(t){c.e(t)}finally{c.f()}}}])&&B(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),D(x.prototype,"onClickOutside",[Mt],Object.getOwnPropertyDescriptor(x.prototype,"onClickOutside"),x.prototype),D(x.prototype,"onKeydown",[Mt],Object.getOwnPropertyDescriptor(x.prototype,"onKeydown"),x.prototype),x),H="Ctrl",U="Shift",W="EventSelItem",Y="EventValueChange",X="EventContextMenuSelItem",G="EventCloseBox",K="EventLClick",Q="EventRClick",J="EventMouseOver",$="EventMouseOut",Z="EventLinkClick";function tt(t){var e=[];return t.ctrlKey&&e.push(H),t.altKey&&e.push("Alt"),t.shiftKey&&e.push(U),e.join(o)}function et(t){var e=[];return t.ctrlKey&&e.push(H),t.altKey&&e.push("Alt"),t.shiftKey&&e.push(U),e.join(o)}function nt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rt(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lt,ct=new(rt((function t(){st(this,t),at(this,"Model",{}),at(this,"Notifications",{}),at(this,"NotificationsByObject",{}),at(this,"WriteOnlyKeys",new Set),at(this,"TransientKeys",new Set),at(this,"ChangedKeys_",[]),at(this,"ChangeListCPP_",{}),at(this,"Events_",[]),at(this,"KeysSentEachFrame_",{}),at(this,"KeysSentEachFrameWasChanged_",!1)}))),ut=function(){function t(){st(this,t)}return rt(t,null,[{key:"addNotification",value:function(t,e){var n=ct.Notifications,i=ct.NotificationsByObject;n[t]||(n[t]=new Set),i[e.item]||(i[e.item]=new Set),n[t].add(e),i[e.item].add(t)}},{key:"removeNotifications",value:function(t){if(t.item){var e=t.item,n=ct.NotificationsByObject;if(n[e]){var i=n[e];if(i){var o,r=ct.Notifications,s=nt(i);try{for(s.s();!(o=s.n()).done;)r[o.value].delete(t)}catch(t){s.e(t)}finally{s.f()}}n[e].delete()}}}},{key:"updateValue",value:function(t,e,n){return"string"!=typeof t?(console.error("eq_update_value error - bad key, value is",e,"key is",t),void console.trace()):"string"!=typeof e?(console.error("eq_update_value error - bad value, key is",t,"value is",e),void console.trace()):void(this.hasKey(t)&&this.getValue(t)===e||(this.setKeyImmediately(t,e),this.addToChangelist(t,e),this.addToNotificationList(t,n)))}},{key:"appendValue",value:function(t,e,n,i){var o=this.hasKey(t)?this.getValue(t):null;o&&0!=o.length?o+=n+e.join(n):o=e.join(n),this.updateValue(t,o,i)}},{key:"addToCppCantChange",value:function(t){this.appendValue(O,t,o)}},{key:"printValues",value:function(t){for(var e in t&&(t=t.toLowerCase()),console.info('Print keys by filter "'+t+'"'),ct.Model)t&&!e.toLowerCase().includes(t)||console.info("\t"+e+"\t"+ct.Model[e])}},{key:"bindValue",value:function(t,e,n,i){if(t){n&&this.addNotification(t,n);var o=n;i&&(i.notifyNow&&(o=null),i.writeOnly&&ct.WriteOnlyKeys.add(t),i.transient&&ct.TransientKeys.add(t),i.cppCantChange&&this.addToCppCantChange([t])),"string"==typeof t?"string"==typeof e?this.hasKey(t)||this.updateValue(t,e,o):console.error("eq_init_value error - bad value, key is",t,"value is",e):console.error("eq_init_value error - bad key, value is",e,"key is",t)}}},{key:"hasKey",value:function(t){return Object.prototype.hasOwnProperty.call(ct.Model,t)}},{key:"getValue",value:function(t){return t?0===t.length?"":(ct.WriteOnlyKeys.has(t)&&(console.warn("Warning at EQ.getValue: key",t,"is write-only"),console.trace()),this.hasKey(t)?ct.Model[t]:(console.error("EQ.getValue error - unknown key "+t),console.trace(),"")):null}},{key:"syncJsModel",value:function(t){if(t&&t.length>0){var e=t.length/2;if(2*e!==t.length)return void console.error("Error: changelist from C++ must have even size, but has",t.length);for(var n=0;n<e;n++){var i=t[2*n],o=t[2*n+1];this.setKeyImmediately(i,o),this.addToNotificationList(i,null)}}var r,s=new Set,a=nt(ct.ChangedKeys_);try{for(a.s();!(r=a.n()).done;){var l=r.value,c=ct.Notifications[l.key];if(c){var u,h=nt(c);try{for(h.s();!(u=h.n()).done;){var d=u.value;s.has(d)||d===l.not_notify||(s.add(d),d.updated?d.updated():l.not_notify&&(console.error("eq_sync_js_model error: object",d,"has no 'updated' method"),console.warn("keyRecord is",l)))}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){a.e(t)}finally{a.f()}ct.ChangedKeys_.length=0}},{key:"syncJsEvents",value:function(t){if(t&&t.length>0){var e=t.length/6;if(6*e!==t.length)return void console.error("Error: hostEvents from C++ must have size n*6,  but has",t.length);for(var n=0,i=0;i<e;i++){var o=t[n++],r=t[n++],s=t[n++],a=t[n++],l=t[n++],c=t[n++];this.handleEvent({dispatch:o,sender:r,message:s,modifiers:a,params:l,position:c})}}}},{key:"sendEvent",value:function(t,e,n,i,o,r){n!==J&&n!==$&&console.info("Event",t,e,n,i,o,r),ct.Events_.push({dispatch:t,sender:e,message:n,modifiers:i,params:o||"",position:r||""})}},{key:"handleEvent",value:function(t){!function(t){if("HostEventPopupContextMenu"!==t.message);else{var e=JSON.parse(t.params),n=e.pos,i=e.items;new N(t.dispatch,i,n.x,n.y).show()}}(t)}},{key:"sendNewsToCpp",value:function(){this.syncInternal();var t=[];if(Object.keys(ct.ChangeListCPP_).length>0)for(var e in ct.ChangeListCPP_)t.push(e),t.push(ct.ChangeListCPP_[e]),delete ct.ChangeListCPP_[e];var n="";if(ct.Events_.length>0){var i,o=nt(ct.Events_);try{for(o.s();!(i=o.n()).done;){var s=i.value;n.length>0&&(n+="$"),n+=s.dispatch+r+s.sender+r+s.message+r+s.modifiers+r+s.params+r+s.position}}catch(t){o.e(t)}finally{o.f()}ct.Events_.length=0}this.callCppOnNewsFromJs(t,n)}},{key:"registerKeySentEachFrame",value:function(t){if(Object.prototype.hasOwnProperty.call(ct.KeysSentEachFrame_,t)){var e=ct.KeysSentEachFrame_[t]+1;ct.KeysSentEachFrame_[t]=e}else ct.KeysSentEachFrame_[t]=1,ct.KeysSentEachFrameWasChanged_=!0}},{key:"removeKeySentEachFrame",value:function(t){Object.prototype.hasOwnProperty.call(ct.KeysSentEachFrame_,t)?ct.KeysSentEachFrame_[t]-1<=0&&(delete ct.KeysSentEachFrame_[t],ct.KeysSentEachFrameWasChanged_=!0):console.error("eq_remove_key_sent_each_frame error, can't remove key '"+t+"'")}},{key:"updateKeysSentEachFrame",value:function(){if(ct.KeysSentEachFrameWasChanged_){ct.KeysSentEachFrameWasChanged_=!1;var t=Object.keys(ct.KeysSentEachFrame_).join(o);this.updateValue(C,t,null)}}},{key:"fail",value:function(t){console.error("JS critical error:",t),this.updateValue("System.Error.Critical",t,null)}},{key:"assertSlow",value:function(t,e){null!=t&&t||this.fail(e)}},{key:"startup",value:function(){var t=this;console.debug("EQ JS starting."),console.debug(' - To print values use printValues(""), printValues("Invent")'),console.debug(' - To change a value use updateValue("InvSlot23.Quantity","5")'),this.addToCppCantChange([O,C]),this.callCppOnNewsFromJs=function(t,e){engine.call("cpp_on_news_from_js",t,e).then((function(){}))},engine.on("eq_request_js_news",(function(){t.sendNewsToCpp()})),engine.on("eq_sync_js",(function(e,n){t.syncJsModel(e),t.syncJsEvents(n)})),engine.call("cpp_js_is_ready"),M.setup()}},{key:"setKeyImmediately",value:function(t,e){t?null!==e?ct.Model[t]=e:console.error("eq_set_key_internal error - bad value, key is",t,"value is",e):console.error("eq_set_key_internal error - bad key, value is",e,"key is",t)}},{key:"addToNotificationList",value:function(t,e){ct.ChangedKeys_.push({key:t,not_notify:e})}},{key:"addToChangelist",value:function(t,e){ct.ChangeListCPP_[t]=e}},{key:"syncInternal",value:function(){this.updateKeysSentEachFrame()}},{key:"callCppOnNewsFromJs",value:function(t,e){}}]),t}();function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function dt(){dt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var r=e&&e.prototype instanceof d?e:d,s=Object.create(r.prototype),a=new S(o||[]);return i(s,"_invoke",{value:k(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var y={};l(y,r,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==e&&n.call(m,r)&&(y=m);var b=p.prototype=d.prototype=Object.create(y);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(i,r,s,a){var l=u(t[i],t,r);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==ht(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,a)}))}a(l.arg)}var r;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){o(t,n,e,i)}))}return r=r?r.then(i,i):i()}})}function k(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return{value:void 0,done:!0}}for(n.method=o,n.arg=r;;){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,i(b,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(w.prototype),l(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var s=new w(c(e,n,i,o),r);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},g(b),l(b,a,"Generator"),l(b,r,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(a&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function ft(t,e,n,i,o,r,s){try{var a=t[r](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,o)}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function vt(t,e,n){return e&&yt(t.prototype,e),n&&yt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ct(t,e)}function bt(t){var e=Ot();return function(){var n,i=Et(t);if(e){var o=Et(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gt(t)}(this,n)}}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t){var e="function"==typeof Map?new Map:void 0;return wt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return kt(t,arguments,Et(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ct(i,t)},wt(t)}function kt(t,e,n){return kt=Ot()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&Ct(o,n.prototype),o},kt.apply(null,arguments)}function Ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ct(t,e){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ct(t,e)}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(t)}function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.Item="item",t.Dispatch="dispatch",t.TemplateClass="template",t.Width="width",t.Height="height",t.TooltipContent="tooltip-content",t.Text="text",t.Label="label"}(lt||(lt={}));var Pt,Tt=function(t){mt(r,t);var e,n,o=bt(r);function r(){var t;pt(this,r);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return St(gt(t=o.call.apply(o,[this].concat(n))),"template",void 0),t}return vt(r,[{key:"unbindCpp",value:function(){ut.removeNotifications(this)}},{key:"componentRendered",value:(e=dt().mark((function t(){var e,n=this;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.style.opacity="0",t.next=4,i.loadResource(this);case 4:e=t.sent,this.template=e.template,i.renderOnce(this),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:return t.prev=12,i.waitForFrames((function(){n.style.opacity="1"})),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})),n=function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(t){ft(r,i,o,s,a,"next",t)}function a(t){ft(r,i,o,s,a,"throw",t)}s(void 0)}))},function(){return n.apply(this,arguments)})},{key:"item",get:function(){return this.getAttribute(lt.Item)}},{key:"dispatch",get:function(){var t=this.getAttribute(lt.Dispatch);if(!t){var e=this.closest("eq-screen");t=null==e?void 0:e.getAttribute("item"),this.setAttribute(lt.Dispatch,t)}return t}},{key:"templateClass",get:function(){return this.hasAttribute(lt.TemplateClass)?this.getAttribute(lt.TemplateClass):""}},{key:"width",get:function(){return this.getAttribute(lt.Width)}},{key:"height",get:function(){return this.getAttribute(lt.Height)}},{key:"tooltipContent",get:function(){return this.getAttribute(lt.TooltipContent)||""}},{key:"text",get:function(){return this.getAttribute(lt.Text)}},{key:"label",get:function(){return this.getAttribute(lt.Label)}},{key:"keyPath",get:function(){return"".concat(this.dispatch,".").concat(this.item)}},{key:"keyContent",get:function(){return"".concat(this.keyPath,".").concat("Content")}},{key:"keyTooltip",get:function(){return"".concat(this.keyPath,".").concat(l)}},{key:"keyText",get:function(){return"".concat(this.keyPath,".").concat(f)}},{key:"keyVisible",get:function(){return"".concat(this.keyPath,".").concat(c)}},{key:"keyColor",get:function(){return"".concat(this.keyPath,".").concat(m)}},{key:"keyEnabled",get:function(){return"".concat(this.keyPath,".").concat(s)}}]),r}(wt(HTMLElement));function xt(t){return function(e){return function(e){mt(i,e);var n=bt(i);function i(){var e;pt(this,i);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return St(gt(e=n.call.apply(n,[this].concat(r))),"template",t),e}return vt(i)}(e)}}function jt(t){return function(e){return function(e){mt(i,e);var n=bt(i);function i(){return pt(this,i),n.apply(this,arguments)}return vt(i,null,[{key:"observedAttributes",get:function(){return t}}]),i}(e)}}function Mt(t,e,n){if(!n||"function"!=typeof n.value)throw new TypeError("Only methods can be decorated with @bind. <".concat(e,"> is not a method!"));return{configurable:!0,get:function(){var t=n.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:!0,writable:!0}),t}}}function At(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}St(Tt,"observedAttributes",void 0);var zt,_t=new(Rt((Pt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Lt(this,"container",void 0),Lt(this,"item",void 0),Lt(this,"quantityContainer",void 0),Lt(this,"textContainer",void 0),Lt(this,"isShown",!1),Lt(this,"itemsUrl",""),Lt(this,"backgroundUrl",""),Lt(this,"startX",0),Lt(this,"startY",0),Lt(this,"enabled",!1),Lt(this,"backgroundColor",""),Lt(this,"keyPath",void 0),this.container=document.createElement("cursor-follower"),this.item=document.createElement("div"),this.resetAttachment(),this.keyPath="".concat("CursorAttachment"),this.bindCpp(),document.addEventListener("mousedown",this.onDocumentMouseEvent),document.addEventListener("mousemove",this.onMousemove)}var e,n;return e=t,(n=[{key:"keyEnabled",get:function(){return"".concat(this.keyPath,".").concat(s)}},{key:"keyBackgroundTintColor",get:function(){return"".concat(this.keyPath,".").concat(d)}},{key:"keyImage",get:function(){return"".concat(this.keyPath,".").concat(p)}},{key:"keyQuantity",get:function(){return"".concat(this.keyPath,".").concat(v)}},{key:"keyText",get:function(){return"".concat(this.keyPath,".").concat(f)}},{key:"keyBackgrImage",get:function(){return"".concat(this.keyPath,".").concat(y)}},{key:"keyIsSpellGem",get:function(){return"".concat(this.keyPath,".").concat("IsSpellGem")}},{key:"keyPosX",get:function(){return"".concat(this.keyPath,".").concat(u)}},{key:"keyPosY",get:function(){return"".concat(this.keyPath,".").concat(h)}},{key:"onDocumentMouseEvent",value:function(t){this.startX=t.clientX,this.startY=t.clientY}},{key:"onMousemove",value:function(t){this.isShown?this.setCursorPosition(t.clientX,t.clientY):(this.startX=t.clientX,this.startY=t.clientY)}},{key:"bindCpp",value:function(){ut.bindValue(this.keyEnabled,"0",this),ut.bindValue(this.keyBackgrImage,"",this),ut.bindValue(this.keyImage,"",this),ut.bindValue(this.keyQuantity,"",this),ut.bindValue(this.keyText,"",this),ut.bindValue(this.keyBackgroundTintColor,"",this),ut.bindValue(this.keyIsSpellGem,"0",this),ut.bindValue(this.keyPosX,"0",this,{notifyNow:!0}),ut.bindValue(this.keyPosY,"0",this,{notifyNow:!0})}},{key:"updated",value:function(){var t="1"===ut.getValue(this.keyEnabled);if(t||t!==this.enabled)if(this.enabled=t,t){var e=ut.getValue(this.keyImage),n=ut.getValue(this.keyBackgrImage),i=ut.getValue(this.keyQuantity),o=ut.getValue(this.keyText),r=ut.getValue(this.keyBackgroundTintColor),s=ut.getValue(this.keyIsSpellGem);this.resetAttachment(),e&&""!=e?(this.show(),this.container.classList.add("picked-inv-item"),this.addItem(e),this.addText(o),this.addQuantity(i),this.setCursorPosition(this.startX,this.startY)):(this.removeItem(),console.error("CursorAttachment show error - empty image URL")),n&&""!=n&&this.addBackground(n),s&&"1"==s&&r&&""!=r?(this.container.classList.remove("picked-inv-item"),this.container.classList.add("picked-spell-gem"),this.addBackgroundColor(r)):(this.container.style.borderRadius="0px",this.item.style.borderRadius="0px");var a=ut.getValue(this.keyPosX),l=ut.getValue(this.keyPosY);null!==a&&null!=l&&""!==a&&""!==l&&"0"!=a&&"0"!=l&&this.startX<=0&&this.startY<=0&&(this.startX=parseInt(a),this.startY=parseInt(l),this.setCursorPosition(this.startX,this.startY))}else this.hide(),this.container.classList.remove("picked-inv-item"),this.removeItem(),this.removeBackground()}},{key:"setCursorPosition",value:function(t,e){isNaN(t)||isNaN(e)||0==t&&0==e||(this.container.style.transform=L(t+10,e+10))}},{key:"show",value:function(){this.isShown=!0,this.container.style.display="block"}},{key:"hide",value:function(){this.isShown=!1,this.container.style.display="none",this.quantityContainer&&this.container.removeChild(this.quantityContainer),this.textContainer&&this.container.removeChild(this.textContainer),this.container.classList.remove("picked-spell-gem"),this.container.classList.remove("picked-inv-item")}},{key:"addItem",value:function(t){this.itemsUrl=t,this.item.style.backgroundImage="url('".concat(t,"')"),this.item.style.backgroundRepeat="no-repeat",this.item.style.backgroundPosition="center",this.item.style.backgroundSize="100%",this.item.style.borderRadius="0px"}},{key:"addBackground",value:function(t){this.backgroundUrl=t,this.container.style.backgroundImage="url('".concat(t,"')"),this.container.style.backgroundSize="100%",this.container.style.backgroundRepeat="no-repeat",this.container.style.backgroundPosition="center",this.container.style.borderRadius="0px"}},{key:"addBackgroundColor",value:function(t){var e="0px",n="";this.backgroundColor="","#ffffffff"!=t&&(e="10px",n="radial-gradient(".concat(t," 45%, rgba(255,0,0,0))"),this.backgroundColor=t),this.container.style.borderRadius=e,this.container.style.backgroundImage=n,this.item.style.borderRadius="5px",this.item.style.width="70%",this.item.style.height="70%",this.item.style.top="50%",this.item.style.left="50%",this.item.style.transform="translate(-50%, -50%)"}},{key:"addQuantity",value:function(t){this.quantityContainer&&this.container.removeChild(this.quantityContainer),t&&""!=t&&(this.quantityContainer=document.createElement("div"),this.quantityContainer.innerHTML=String(t),this.quantityContainer.style.position="absolute",this.quantityContainer.style.bottom="0",this.quantityContainer.style.right="0",this.quantityContainer.style.color="var(--c_crWhite)",this.quantityContainer.style.backgroundColor="var(--c_crVDkGray)",this.quantityContainer.style.fontSize=A(10),this.quantityContainer.style.lineHeight=A(11),this.container.appendChild(this.quantityContainer))}},{key:"addText",value:function(t){this.textContainer&&this.container.removeChild(this.textContainer),t&&""!=t&&(this.textContainer=document.createElement("div"),this.textContainer.innerHTML=t,this.textContainer.style.position="absolute",this.textContainer.style.top="50%",this.textContainer.style.left="50%",this.textContainer.style.transform="translate(-50%, -50%)",this.textContainer.style.color="var(--c_crWhite)",this.textContainer.style.overflowWrap="break-word",this.textContainer.style.textAlign="center",this.textContainer.style.fontSize=A(10),this.textContainer.style.lineHeight=A(11),this.textContainer.style.maxHeight=A(33),this.textContainer.style.overflow="hidden",this.container.appendChild(this.textContainer))}},{key:"removeItem",value:function(){this.itemsUrl="",this.item.style.backgroundImage="",this.item.style.borderRadius="0px",this.container.style.borderRadius="0px",this.container.style.backgroundImage=""}},{key:"removeBackground",value:function(){this.backgroundUrl="",this.container.style.backgroundImage="",this.container.style.borderRadius="0px"}},{key:"resetAttachment",value:function(){this.backgroundColor="#ffffffff",this.container.style.position="relative",this.container.style.top="0",this.container.style.bottom="0",this.container.style.left="0",this.container.style.right="0",this.container.style.width="4.0rem",this.container.style.height="4.0rem",this.container.style.borderRadius="0px",this.container.style.backgroundImage="",this.container.classList.remove("picked-spell-gem"),this.container.classList.remove("picked-inv-item"),this.item.style.position="absolute",this.item.style.backgroundImage="",this.item.style.borderRadius="0px",this.item.style.width="100%",this.item.style.height="100%",document.body.appendChild(this.container),this.container.appendChild(this.item),this.hide(),console.info("CursorAttachment CLEANED")}}])&&At(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()).prototype,"onDocumentMouseEvent",[Mt],Object.getOwnPropertyDescriptor(Pt.prototype,"onDocumentMouseEvent"),Pt.prototype),Rt(Pt.prototype,"onMousemove",[Mt],Object.getOwnPropertyDescriptor(Pt.prototype,"onMousemove"),Pt.prototype),Pt);function Vt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bt(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var It,Dt,Ft,Nt="tooltip-content-attribute",Ht=(zt=function(){function t(){var e,n,i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qt(this,"container",void 0),qt(this,"contentBox",void 0),qt(this,"element",void 0),qt(this,"key",void 0),qt(this,"_isVisible",!1),qt(this,"debouncedMousemove",(e=500,n=this.onMousemove,o=(i||{}).atBegin,function(t,e,n){var i,o=n||{},r=o.noTrailing,s=void 0!==r&&r,a=o.noLeading,l=void 0!==a&&a,c=o.debounceMode,u=void 0===c?void 0:c,h=!1,d=0;function f(){i&&clearTimeout(i)}function p(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=this,c=Date.now()-d;function p(){d=Date.now(),e.apply(a,o)}function y(){i=void 0}h||(l||!u||i||p(),f(),void 0===u&&c>t?l?(d=Date.now(),s||(i=setTimeout(u?y:p,t))):p():!0!==s&&(i=setTimeout(u?y:p,void 0===u?t-c:t)))}return p.cancel=function(t){var e=(t||{}).upcomingOnly,n=void 0!==e&&e;f(),h=!n},p}(e,n,{debounceMode:!1!==(void 0!==o&&o)}))),this.key=null,this.attachContainer()}var e,n;return e=t,n=[{key:"isVisible",get:function(){return this._isVisible},set:function(t){this._isVisible=t,this.container.style.visibility=t?"visible":"hidden"}},{key:"onMousemove",value:function(t){var e,n,i,o,r=this.container,s=r.scrollHeight,a=(e=r.scrollWidth,n=s,o={x:(i={x:t.clientX+5,y:t.clientY+-16}).x,y:i.y},i.x+e>window.innerWidth&&(o.x=window.innerWidth-e),i.x<0&&(o.x=0),i.y+n>window.innerHeight&&(o.y=window.innerHeight-n),i.y<0&&(o.y=i.y+38),o),l=a.x,c=a.y;this.container.style.transform=L(l,c),this.show()}},{key:"onMouseout",value:function(t){var e;null===(e=this.debouncedMousemove)||void 0===e||e.cancel({upcomingOnly:!0}),this.hide()}},{key:"setElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.unbindKey(),this.removeElementListeners(),this.element=t,this.addElementListeners(e),null!==n?(ut.bindValue(n,"",this),this.key=n,this.updated()):this.updateContent()}},{key:"unbindKey",value:function(){ut.removeNotifications(this),this.key=null}},{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"moveTooltip",value:function(t,e){this.container.style.transform=L(t,e)}},{key:"clearTooltip",value:function(){this.hide(),this.contentBox.textContent=""}},{key:"updateContent",value:function(){var t,e,n="";this.element&&(n=this.element.getAttribute(Nt)||""),"null"===n&&(n=""),this.contentBox.style.whiteSpace="normal",(null!==(t=n)&&void 0!==t&&t.includes("\n")||null!==(e=n)&&void 0!==e&&e.includes("<br>"))&&(n=n.replace("<br>","\n"),this.contentBox.style.whiteSpace="pre-wrap"),this.contentBox.textContent=n}},{key:"updated",value:function(){if(null!==this.key){var t,e,n=ut.getValue(this.key);this.contentBox.style.whiteSpace="normal",(null!==(t=n)&&void 0!==t&&t.includes("\n")||null!==(e=n)&&void 0!==e&&e.includes("<br>"))&&(n=n.replace("<br>","\n"),this.contentBox.style.whiteSpace="pre-wrap"),this.contentBox.textContent=n}}},{key:"addElementListeners",value:function(t){this.element.addEventListener("mousemove",t?this.debouncedMousemove:this.onMousemove),this.element.addEventListener("mouseout",this.onMouseout)}},{key:"removeElementListeners",value:function(){var t,e,n;null===(t=this.element)||void 0===t||t.removeEventListener("mousemove",this.onMousemove),null===(e=this.element)||void 0===e||e.removeEventListener("mousemove",this.debouncedMousemove),null===(n=this.element)||void 0===n||n.removeEventListener("mouseout",this.onMouseout)}},{key:"attachContainer",value:function(){this.container=document.createElement("tooltip"),this.container.classList.add("tooltip"),this.contentBox=document.createElement("div"),this.contentBox.classList.add("content");var t=document.createElement("div");t.classList.add("tooltip-background"),this.contentBox.textContent="",this.container.appendChild(t),this.container.appendChild(this.contentBox),this.container.style.zIndex="2000000000",this.isVisible=!1,document.body.appendChild(this.container)}}],n&&Vt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Bt(zt.prototype,"onMousemove",[Mt],Object.getOwnPropertyDescriptor(zt.prototype,"onMousemove"),zt.prototype),Bt(zt.prototype,"onMouseout",[Mt],Object.getOwnPropertyDescriptor(zt.prototype,"onMouseout"),zt.prototype),zt),Ut=new Ht;function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xt(t,e){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xt(t,e)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}!function(t){t.Checked="checked",t.Enabled="enabled",t.Hotkey="hotkey"}(Ft||(Ft={}));var Kt,Qt,Jt,$t,Zt,te,ee,ne=xt('<div class="container"> <div class="background" can-change-opacity></div> <div class="text"></div> </div> ')((Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(l,t);var e,n,o,r,s=(o=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(o);if(r){var n=Gt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),s.call(this)}return e=l,(n=[{key:"keyChecked",get:function(){return"".concat(this.keyPath,".").concat(a)}},{key:"keyHotkey",get:function(){return"".concat(this.keyPath,".").concat("Hotkey")}},{key:"onMousedown",value:function(t){0===t.button&&ut.sendEvent(this.dispatch,this.keyPath,W,tt(t),"")}},{key:"bindCpp",value:function(){ut.bindValue(this.keyChecked,"0",this),ut.bindValue(this.keyEnabled,"1",this),ut.bindValue(this.keyVisible,"1",this),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyVisible);if(null!==t)if("1"===t)this.style.filter="opacity(1)",this.style.height="2.6rem",this.style.width="2.6rem";else if("0"===t)return this.style.filter="opacity(0)",this.style.height="0",void(this.style.width="0");var e=ut.getValue(this.keyChecked);"1"===e||"true"===e?this.classList.add("checked",e):this.classList.remove("checked")}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.text&&(t.querySelector(".text").innerHTML=t.text),i.waitForFrames((function(){t.setAttribute(Nt,t.tooltipContent+ut.getValue(t.keyHotkey))}),1),t.addEventListener("mousedown",t.onMousedown),t.addEventListener("mouseover",(function(){Ut.setElement(t)}))})).catch((function(t){console.error(t)}))}}])&&Yt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Tt),Kt=Dt.prototype,Qt="onMousedown",Jt=[Mt],$t=Object.getOwnPropertyDescriptor(Dt.prototype,"onMousedown"),Zt=Dt.prototype,te={},Object.keys($t).forEach((function(t){te[t]=$t[t]})),te.enumerable=!!te.enumerable,te.configurable=!!te.configurable,("value"in te||te.initializer)&&(te.writable=!0),te=Jt.slice().reverse().reduce((function(t,e){return e(Kt,Qt,t)||t}),te),Zt&&void 0!==te.initializer&&(te.value=te.initializer?te.initializer.call(Zt):void 0,te.initializer=void 0),void 0===te.initializer&&(Object.defineProperty(Kt,Qt,te),te=null),It=Dt))||It;function ie(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function re(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-toggle-button",ne);var se,ae,le=(ee=function(){function t(e,n,i){var o,r,s,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),oe(this,"root",void 0),oe(this,"options",void 0),oe(this,"controlSelectors",void 0),oe(this,"x",void 0),oe(this,"y",void 0),oe(this,"cursorPosition",null),this.root=e,this.controlSelectors=n,this.options=i,this.setCoordinates({x:null!==(o=null===(r=this.options)||void 0===r?void 0:r.initialX)&&void 0!==o?o:0,y:null!==(s=null===(a=this.options)||void 0===a?void 0:a.initialY)&&void 0!==s?s:0}),this.addListeners()}var e,n;return e=t,(n=[{key:"onMouseUp",value:function(){var t,e,n=this;null!==(t=this.options)&&void 0!==t&&t.onFinish&&(null===(e=this.options)||void 0===e||e.onFinish()),this.controlSelectors.forEach((function(t){t.addEventListener("mousemove",n.onMouseMove)})),i.waitForFrames((function(){var t,e;null===(t=document)||void 0===t||t.removeEventListener("mouseup",n.onMouseUp),null===(e=document)||void 0===e||e.removeEventListener("mousemove",n.onDrag)}),1)}},{key:"onDrag",value:function(t){var e,n=t.clientX-this.cursorPosition.x,i=t.clientY-this.cursorPosition.y;this.x=n,this.y=i,null===(e=this.options)||void 0===e||e.onChangePosition(this.x,this.y)}},{key:"onMouseMove",value:function(t){if(0===t.button){var e=t.clientX-this.x,n=t.clientY-this.y;this.cursorPosition={x:e,y:n}}}},{key:"onMouseDown",value:function(t){var e,n,i,o,r=this;0===t.button&&(null!==(e=this.options)&&void 0!==e&&e.onStart&&(null===(o=this.options)||void 0===o||o.onStart()),null!==(n=this.options)&&void 0!==n&&null!==(i=n.stopPropagation)&&void 0!==i&&i.onMouseDown&&t.stopPropagation(),this.controlSelectors.forEach((function(t){t.removeEventListener("mousemove",r.onMouseMove)})),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onDrag))}},{key:"setCoordinates",value:function(t){var e,n;this.x=null!==(e=t.x)&&void 0!==e?e:this.x,this.y=null!==(n=t.y)&&void 0!==n?n:this.y}},{key:"destroy",value:function(){var t=this;this.controlSelectors.forEach((function(e){e&&(e.removeEventListener("mousedown",t.onMouseDown),e.removeEventListener("mousemove",t.onMouseMove))}))}},{key:"addListeners",value:function(){var t=this;this.controlSelectors.forEach((function(e){e&&(e.addEventListener("mousedown",t.onMouseDown),e.addEventListener("mousemove",t.onMouseMove))}))}}])&&ie(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),re(ee.prototype,"onMouseUp",[Mt],Object.getOwnPropertyDescriptor(ee.prototype,"onMouseUp"),ee.prototype),re(ee.prototype,"onDrag",[Mt],Object.getOwnPropertyDescriptor(ee.prototype,"onDrag"),ee.prototype),re(ee.prototype,"onMouseMove",[Mt],Object.getOwnPropertyDescriptor(ee.prototype,"onMouseMove"),ee.prototype),re(ee.prototype,"onMouseDown",[Mt],Object.getOwnPropertyDescriptor(ee.prototype,"onMouseDown"),ee.prototype),ee);function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function ue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function de(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}function pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ye(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var ve,me=188;!function(t){t.Draggable="draggable",t.Sizable="sizable",t.Minimizebox="minimizebox",t.Closebox="closebox",t.Qmarkbox="qmarkbox",t.Titlebar="titlebar",t.Title="title",t.X="x",t.Y="y",t.RelX="relX",t.RelY="relY",t.XOffset="xOffset",t.YOffset="YOffset",t.Visible="visible",t.Overflow="overflow",t.FitToContent="fittocontent",t.MinHeight="minheight",t.MinWidth="minwidth"}(ve||(ve={}));var be,ge,we,ke=[lt.Item,ve.Sizable,ve.Draggable,ve.Title],Oe=xt('<div class="container"> <div class="titlebar"> <div class="title"></div> <div class="titlebar-left" can-change-opacity> <div class="minimize"></div> </div> <div class="titlebar-middle" can-change-opacity></div> <div class="titlebar-right" can-change-opacity> <div class="qmark"></div> <div class="close"></div> </div> </div> <div class="window-frame-top-left" can-change-opacity></div> <div class="window-frame-top" can-change-opacity></div> <div class="window-frame-top-right" can-change-opacity></div> <div class="window-frame-right-top" can-change-opacity></div> <div class="window-frame-right" can-change-opacity></div> <div class="window-frame-right-bottom" can-change-opacity></div> <div class="window-frame-bottom-right" can-change-opacity></div> <div class="window-frame-bottom" can-change-opacity></div> <div class="window-frame-bottom-left" can-change-opacity></div> <div class="window-frame-left-top" can-change-opacity></div> <div class="window-frame-left" can-change-opacity></div> <div class="window-frame-left-bottom" can-change-opacity></div> <div class="window-body"> <div class="background-color" can-change-opacity> <div class="background"></div> </div> <div slot="body"></div> </div> </div> ')(se=jt(ke)((ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(l,t);var e,n,r,s,a=(r=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fe(r);if(s){var n=fe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return de(t)}(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),pe(de(t=a.call(this)),"state",{resizeAxis:null,isMinimized:!1,rightFrameCoordinate:0,bottomFrameCoordinate:0,opacity:"1",backgroundUseTexture:!0,backgroundTintColor:"",zClass:0,lastIniState:"",x:0,y:0,w:0,h:0}),pe(de(t),"container",void 0),pe(de(t),"draggableRef",null),pe(de(t),"minimizeBtn",void 0),pe(de(t),"closeBtn",void 0),pe(de(t),"qmarkBtn",void 0),pe(de(t),"titleElement",void 0),pe(de(t),"titlebar",void 0),pe(de(t),"frameRight",void 0),pe(de(t),"frameRightTop",void 0),pe(de(t),"frameRightBottom",void 0),pe(de(t),"frameBottom",void 0),pe(de(t),"frameBottomLeft",void 0),pe(de(t),"frameBottomRight",void 0),pe(de(t),"frameLeft",void 0),pe(de(t),"frameLeftTop",void 0),pe(de(t),"frameLeftBottom",void 0),pe(de(t),"frameTop",void 0),pe(de(t),"frameTopLeft",void 0),pe(de(t),"frameTopRight",void 0),pe(de(t),"currentResizeControl",null),pe(de(t),"scrollContainers",void 0),pe(de(t),"eqLists",void 0),pe(de(t),"lastWidth",void 0),pe(de(t),"lastHeight",void 0),pe(de(t),"lastScreenSize",void 0),t.lastWidth=0,t.lastHeight=0,t.lastScreenSize=null,t.zClass=0,t}return e=l,n=[{key:"dispatch",get:function(){return this.item}},{key:"isDraggable",get:function(){return this.hasAttribute(ve.Draggable)},set:function(t){t?this.setAttribute(ve.Draggable,""):this.removeAttribute(ve.Draggable)}},{key:"isSizable",get:function(){return this.hasAttribute(ve.Sizable)}},{key:"isFitToContent",get:function(){return this.hasAttribute(ve.FitToContent)}},{key:"hasMinimizebox",get:function(){return this.hasAttribute(ve.Minimizebox)}},{key:"hasClosebox",get:function(){return this.hasAttribute(ve.Closebox)}},{key:"hasQmarkbox",get:function(){return this.hasAttribute(ve.Qmarkbox)}},{key:"hasTitlebar",get:function(){return this.hasAttribute(ve.Titlebar)}},{key:"title",get:function(){return this.getAttribute(ve.Title)}},{key:"positionX",get:function(){return this.state.x},set:function(t){this.state.x=t}},{key:"positionY",get:function(){return this.state.y},set:function(t){this.state.y=t}},{key:"height",get:function(){return this.state.h},set:function(t){this.state.h=t}},{key:"width",get:function(){return this.state.w},set:function(t){this.state.w=t}},{key:"zClass",get:function(){return this.state.zClass},set:function(t){var e=this.state.zClass;this.state.zClass=t,M.zClassWasUpdated(this,e)}},{key:"relativeX",get:function(){return this.getAttribute(ve.RelX)}},{key:"relativeY",get:function(){return this.getAttribute(ve.RelY)}},{key:"xOffset",get:function(){return this.getAttribute(ve.XOffset)}},{key:"yOffset",get:function(){return this.getAttribute(ve.YOffset)}},{key:"fitToContent",get:function(){return this.getAttribute(ve.FitToContent)}},{key:"minHeight",get:function(){return this.hasAttribute(ve.MinHeight)?this.getAttribute(ve.MinHeight):"0"}},{key:"minWidth",get:function(){return this.hasAttribute(ve.MinWidth)?this.getAttribute(ve.MinWidth):""+me}},{key:"keyPath",get:function(){return this.item}},{key:"keyTitle",get:function(){return"".concat(this.keyPath,".").concat("Title")}},{key:"keyZClass",get:function(){return"".concat(this.keyPath,".").concat("ZClass")}},{key:"keyMinimized",get:function(){return"".concat(this.keyPath,".").concat("Minimized")}},{key:"keyLocked",get:function(){return"".concat(this.keyPath,".").concat("Locked")}},{key:"keyOpacity",get:function(){return"".concat(this.keyPath,".").concat("Opacity")}},{key:"keyBackgroundUseTexture",get:function(){return"".concat(this.keyPath,".").concat("BackgroundUseTexture")}},{key:"keyBackgroundTintColor",get:function(){return"".concat(this.keyPath,".").concat(d)}},{key:"keyVisible",get:function(){return this.getAttribute(ve.Visible)||"".concat(this.keyPath,".").concat(c)}},{key:"keyMovement",get:function(){return"".concat(this.keyPath,".").concat("Movement")}},{key:"keyIniState",get:function(){return"".concat(this.keyPath,".").concat("IniState")}},{key:"keyPosX",get:function(){return"".concat(this.keyPath,".").concat(u)}},{key:"keyPosY",get:function(){return"".concat(this.keyPath,".").concat(h)}},{key:"isMinimized",get:function(){return this.state.isMinimized},set:function(t){var e;this.state.isMinimized=t,ut.updateValue(this.keyMinimized,t?"1":"0",this);var n=null===(e=this.container)||void 0===e?void 0:e.querySelector(".window-body");t?(n.style.display="none",this.container.style.transition="width 300ms linear 0s, height 0ms linear 0ms",this.container.style.minHeight="0",this.container.style.minWidth=A(me),this.container.style.height="0",this.container.style.width=A(me),this.minimizeBtn.setAttribute(Nt,"Restore this window"),this.removeAttribute(ve.Sizable)):(n.style.display="",this.container.style.transition="width 300ms linear 0s, height 0ms linear 300ms",this.container.style.minHeight=A(parseInt(this.minHeight)),this.container.style.minWidth=A(parseInt(this.minWidth)),this.container.style.height=A(Math.max(parseInt(this.minHeight),this.height)),this.container.style.width=A(Math.max(parseInt(this.minWidth),this.width)),this.minimizeBtn.setAttribute(Nt,"Minimize this window"),this.setAttribute(ve.Sizable,"")),Ut.updateContent()}},{key:"onMouseDown",value:function(t){if(0===t.button)this.makeWindowActive();else if(2===t.button){var e=t.clientX.toString()+","+t.clientY.toString();ut.sendEvent(this.dispatch,this.keyPath,"EventRButtonDown",tt(t),e)}}},{key:"onMouseOver",value:function(){ut.sendEvent(this.dispatch,this.keyPath,J,"")}},{key:"onMouseOut",value:function(){ut.sendEvent(this.dispatch,this.keyPath,$,"")}},{key:"onResizeMousedown",value:function(t){if(0===t.button&&"1"!==ut.getValue(this.keyLocked)){var e=t.target,n=this.getBoundingClientRect(),i=n.right,o=n.bottom;this.state.rightFrameCoordinate=i,this.state.bottomFrameCoordinate=o,this.container.style.transition="",this.currentResizeControl=t.target,this.makeWindowActive(),t.stopPropagation(),[this.frameLeft,this.frameLeftTop,this.frameLeftBottom,this.frameRight,this.frameRightTop,this.frameRightBottom].includes(e)&&(this.state.resizeAxis="x"),[this.frameBottom,this.frameTop].includes(e)&&(this.state.resizeAxis="y"),[this.frameBottomRight,this.frameBottomLeft,this.frameTopLeft,this.frameTopRight,this.frameLeftTop,this.frameLeftBottom,this.frameRightTop,this.frameRightBottom].includes(e)&&(this.state.resizeAxis="xy"),document.addEventListener("mousemove",this.onResizeMousemove),document.addEventListener("mouseup",this.onResizeMouseup)}}},{key:"onResizeMouseup",value:function(){var t,e;this.currentResizeControl=null,this.storeIniState(),null===(t=document)||void 0===t||t.removeEventListener("mousemove",this.onResizeMousemove),null===(e=document)||void 0===e||e.removeEventListener("mouseup",this.onResizeMouseup)}},{key:"onResizeMousemove",value:function(t){var e,n,i=this,o=this.getBoundingClientRect(),r=o.right,s=o.left,a=o.bottom,l=o.top;null!==(e=this.state.resizeAxis)&&void 0!==e&&e.includes("x")&&([this.frameRight,this.frameRightBottom,this.frameRightTop,this.frameBottomRight,this.frameTopRight].includes(this.currentResizeControl)&&(this.width=z(t.clientX-s,93)/M.scaleUI),[this.frameLeft,this.frameLeftBottom,this.frameLeftTop,this.frameBottomLeft,this.frameTopLeft].includes(this.currentResizeControl)&&t.clientX+93<=this.state.rightFrameCoordinate&&(this.width=z(r-t.clientX,93)/M.scaleUI,this.positionX=t.clientX)),null!==(n=this.state.resizeAxis)&&void 0!==n&&n.includes("y")&&([this.frameBottom,this.frameLeftBottom,this.frameRightBottom,this.frameBottomRight,this.frameBottomLeft].includes(this.currentResizeControl)&&(this.height=z(t.clientY-l,20)/M.scaleUI),[this.frameTop,this.frameLeftTop,this.frameRightTop,this.frameTopRight,this.frameTopLeft].includes(this.currentResizeControl)&&t.clientY+20<=this.state.bottomFrameCoordinate&&(this.height=z(a-t.clientY,20)/M.scaleUI,this.positionY=t.clientY)),this.scrollContainers.forEach((function(t){t.resize()})),this.eqLists.forEach((function(t){t.changeColumnWidth("last",i.positionX)})),this.updatedPos()}},{key:"onMinimizeDown",value:function(t){0===t.button&&(t.stopPropagation(),this.minimizeBtn.classList.add("pressed"),document.addEventListener("mouseup",this.onMinimizeUp))}},{key:"onMinimizeUp",value:function(t){this.minimizeBtn.classList.remove("pressed"),document.removeEventListener("mouseup",this.onMinimizeUp)}},{key:"onMinimizeClick",value:function(t){this.isMinimized=!this.isMinimized,ut.sendEvent(this.dispatch,this.keyPath,"EventMinimizeBox",tt(t),this.isMinimized?"1":"0")}},{key:"onCloseDown",value:function(t){0===t.button&&(t.stopPropagation(),this.closeBtn.classList.add("pressed"),document.addEventListener("mouseup",this.onCloseUp))}},{key:"onCloseUp",value:function(t){this.closeBtn.classList.remove("pressed"),document.removeEventListener("mouseup",this.onCloseUp)}},{key:"onCloseClick",value:function(t){ut.updateValue(this.keyVisible,"0",null),ut.sendEvent(this.dispatch,this.keyPath,G,tt(t))}},{key:"onQmarkDown",value:function(t){0===t.button&&(t.stopPropagation(),this.qmarkBtn.classList.add("pressed"),document.addEventListener("mouseup",this.onQmarkUp))}},{key:"onQmarkUp",value:function(t){this.qmarkBtn.classList.remove("pressed"),document.removeEventListener("mouseup",this.onQmarkUp)}},{key:"onQmarkClick",value:function(t){ut.sendEvent(this.dispatch,this.keyPath,"EventQMarkBox",tt(t))}},{key:"onMouseClick",value:function(t){var e=t.clientX+","+t.clientY;ut.sendEvent(this.dispatch,this.keyPath,K,tt(t),"",e)}},{key:"storeIniState",value:function(){ut.sendEvent(this.dispatch,this.keyPath,"EventWindowRectChanged","");var t=M.screenSize(),e=this.isFitToContent?0:this.width,n=this.isFitToContent?0:this.height,i=(this.positionX+e/2)/t.w,r=(this.positionY+n/2)/t.h;if(!isNaN(i)&&!isNaN(r)){var s=[i,r];!this.isSizable||isNaN(this.width)||isNaN(this.height)||(s.push(this.width),s.push(this.height)),this.isFitToContent&&(s.push(this.offsetWidth),s.push(this.offsetHeight));var a=s.join(o);ut.updateValue(this.keyIniState,a,this),this.state.lastIniState=""}}},{key:"loadIniState",value:function(){var t=ut.getValue(this.keyIniState);if(null!==t){this.state.lastIniState=t;var e=M.screenSize();if(this.lastScreenSize=e,null!==t&&""!==t){var n=t.split(o);if(this.isSizable&&n.length>=4&&(this.width=parseInt(n[2]),this.height=parseInt(n[3])),n.length>=2){var i=e.w,r=e.h;if(this.isFitToContent&&n.length>=4){var s=parseFloat(n[0])*i,a=parseFloat(n[1])*r;s=z(s,0,i),a=z(a,0,r),this.positionX=s,this.positionY=a,this.lastWidth=parseFloat(n[2]),this.lastHeight=parseFloat(n[3])}else{var l=parseFloat(n[0])*i-this.width/2,c=parseFloat(n[1])*r-this.height/2;l=z(l,0,i-this.width),c=z(c,0,r-this.height),this.positionX=l,this.positionY=c}this.updatedPos()}}}}},{key:"updatedPos",value:function(){var t;this.style.transform=L(this.positionX,this.positionY),this.isFitToContent||(this.container.style.width=this.isMinimized?String(me):A(this.width),this.container.style.height=this.isMinimized?String(me):A(this.height)),null===(t=this.draggableRef)||void 0===t||t.setCoordinates({x:this.positionX,y:this.positionY})}},{key:"updatedVisibility",value:function(){this.isFitToContent&&(this.width=this.offsetWidth,this.height=this.offsetHeight),this.updatedSize(),this.isFitToContent&&(this.lastWidth=this.width,this.lastHeight=this.height)}},{key:"updatedSize",value:function(){if(this.lastScreenSize){var t=ut.getValue(this.keyIniState),e=null==t||""==t,n=M.screenSize(),i=n.w,o=n.h,r=this.positionX,s=this.positionY;if(this.isFitToContent)if("center"===this.fitToContent){(isNaN(this.positionX)||n.w!=this.lastScreenSize.w)&&(this.positionX&&(r=(this.positionX+this.lastWidth/2)/this.lastScreenSize.w*i-this.lastWidth/2),e&&(this.relativeX&&(r=i*parseFloat(this.relativeX)-this.width/2),this.xOffset&&(r+=parseInt(this.xOffset)))),(isNaN(this.positionY)||n.h!=this.lastScreenSize.h)&&(this.positionY&&(s=(this.positionY+this.lastHeight/2)/this.lastScreenSize.h*o-this.lastHeight/2),e&&(this.relativeY&&(s=o*parseFloat(this.relativeY)-this.height/2),this.yOffset&&(s+=parseInt(this.yOffset))));var a=this.width-this.lastWidth,l=this.height-this.lastHeight;r=z(r-a/2,0,i-this.width),s=z(s-l/2,0,o-this.height)}else(isNaN(this.positionX)||n.w!=this.lastScreenSize.w)&&(this.positionX&&(r=this.positionX/this.lastScreenSize.w*i),e&&(this.relativeX&&(r=i*parseFloat(this.relativeX)-this.width/2),this.xOffset&&(r+=parseInt(this.xOffset))),r=z(r,0,i-this.width)),(isNaN(this.positionY)||n.h!=this.lastScreenSize.h)&&(this.positionY&&(s=this.positionY/this.lastScreenSize.h*o),e&&(this.relativeY&&(s=o*parseFloat(this.relativeY)-this.height/2),this.yOffset&&(s+=parseInt(this.yOffset))),s=z(s,0,o-this.height));else this.positionX&&(r=(this.positionX+this.width/2)/this.lastScreenSize.w*i-this.width/2),this.positionY&&(s=(this.positionY+this.height/2)/this.lastScreenSize.h*o-this.height/2),e&&(this.relativeX&&(r=i*parseFloat(this.relativeX)-this.width/2),this.relativeY&&(s=o*parseFloat(this.relativeY)-this.height/2),this.xOffset&&(r+=parseInt(this.xOffset)),this.yOffset&&(s+=parseInt(this.yOffset))),r=z(r,0,i-this.width),s=z(s,0,o-this.height);this.positionX=r,this.positionY=s,this.lastScreenSize=n,this.updatedPos()}}},{key:"bindCpp",value:function(){ut.bindValue(this.keyVisible,"1",this),ut.bindValue(this.keyOpacity,"1",this),ut.bindValue(this.keyBackgroundUseTexture,"1",this),ut.bindValue(this.keyBackgroundTintColor,"#ffffff",this),ut.bindValue(this.keyTitle,this.title,this),ut.bindValue(this.keyZClass,"0",this),ut.bindValue(this.keyMinimized,"0",this),ut.bindValue(this.keyLocked,"0",this),ut.bindValue(this.keyMovement,"",this),ut.bindValue(this.keyIniState,"",this),ut.bindValue(this.keyPosX,"",this),ut.bindValue(this.keyPosY,"",this),ut.bindValue(k,"1",this)}},{key:"updated",value:function(){var t=this,e=ut.getValue(this.keyMovement),n=ut.getValue(this.keyPosX),o=ut.getValue(this.keyPosY);null!==e&&""!==e?(this.moveWindow(e),ut.updateValue(this.keyMovement,"",this)):null!==n&&null!==o&&""!==n&&""!==o&&this.moveLocation(parseInt(n),parseInt(o));var r=ut.getValue(this.keyIniState);if(null!==r&&""!==r&&r!==this.state.lastIniState?this.loadIniState():null===this.lastScreenSize&&(this.lastScreenSize={w:window.innerWidth,h:window.innerHeight},this.isFitToContent?i.waitForFrames((function(){t.lastWidth=t.offsetWidth,t.lastHeight=t.offsetHeight,t.updatedPos()})):this.updatedSize()),"0"===ut.getValue(this.keyVisible)){if("hidden"!==this.style.visibility)return!this.isFitToContent||isNaN(this.width)||isNaN(this.height)||(this.lastWidth=this.width,this.lastHeight=this.height),this.style.visibility="hidden",this.querySelectorAll("*").forEach((function(t){var e,n=t;n.tagName.includes("EQ-")&&(null==n||null===(e=n.unbindCpp)||void 0===e||e.call(n))})),void M.windowHidden(this.keyPath)}else"visible"!==this.style.visibility?(this.querySelectorAll("*").forEach((function(t){var e,n=t;n.tagName.includes("EQ-")&&(null==n||null===(e=n.bindCpp)||void 0===e||e.call(n))})),i.waitForFrames((function(){t.updatedVisibility(),t.style.visibility="visible",M.windowShown(t.keyPath,t)}))):!this.lastScreenSize||this.lastScreenSize.w==window.innerWidth&&this.lastScreenSize.h==window.innerHeight||this.updatedSize();var s=ut.getValue(this.keyZClass);if(null!==s){var a=parseInt(s);a!==this.zClass&&(this.zClass=a)}var l="1"===ut.getValue(this.keyMinimized);l!==this.isMinimized&&(this.isMinimized=l);var c="1"===ut.getValue(this.keyLocked);c?this.classList.add("locked"):this.classList.remove("locked"),c===this.isDraggable&&(this.isDraggable=!c);var u=ut.getValue(this.keyOpacity);if(null!==u&&u!==this.state.opacity){var h=this.querySelectorAll("[can-change-opacity]");this.state.opacity=u,h.forEach((function(t){t.style.opacity=u}))}var d="1"===ut.getValue(this.keyBackgroundUseTexture);d!==this.state.backgroundUseTexture&&(this.state.backgroundUseTexture=d,this.querySelector(".background").style.backgroundImage=d?"":"none");var f=ut.getValue(this.keyBackgroundTintColor);if(null!==f&&f!==this.state.backgroundTintColor){this.state.backgroundTintColor=f;var p=this.querySelector(".background-color"),y=this.querySelector(".background");p.style.backgroundColor=f,y.style.mixBlendMode="multiply"}var v=ut.getValue(this.keyTitle);null!==v&&this.setAttribute(ve.Title,v)}},{key:"makeWindowActive",value:function(){M.makeActive(this.keyPath);var t=this.querySelector(".input");this.hasChildNodes()&&t&&t.focus()}},{key:"moveToCursor",value:function(){var t=_t.startX,e=_t.startY,n=window.innerWidth,i=window.innerHeight,o=ut.getValue(k),r=1;null!==o&&""!==o&&(r=parseFloat(o));var s=this.width*r,a=this.height*r;t+s>=n&&(t=n-s),e+a>=i&&(e=i-a),this.positionX=t,this.positionY=e,this.updatedPos(),this.storeIniState()}},{key:"moveLocation",value:function(t,e){this.positionX=t,this.positionY=e,this.updatedPos(),this.storeIniState()}},{key:"moveWindow",value:function(t){var e=M.screenSize();switch(t){case"Center":this.positionX=Math.floor((e.w-this.width)/2),this.positionY=Math.floor((e.h-this.height)/2);break;case"CenterHorizontally":this.positionX=Math.floor((e.w-this.width)/2);break;case"CenterVertically":this.positionY=Math.floor((e.h-this.height)/2);break;case"Left":this.positionX=0;break;case"Right":this.positionX=e.w-this.width;break;case"Top":this.positionY=0;break;case"Bottom":this.positionY=e.h-this.height;break;case"Cursor":this.moveToCursor()}this.updatedPos(),this.storeIniState()}},{key:"attributeChangedCallback",value:function(t,e,n){var o=this;switch(t){case lt.Item:this.bindCpp();break;case ve.Title:this.titleElement&&(this.titleElement.innerHTML=this.title);break;case ve.Sizable:i.waitForFrames((function(){null!==n?[o.frameRight,o.frameRightTop,o.frameRightBottom,o.frameBottom,o.frameBottomLeft,o.frameBottomRight,o.frameLeft,o.frameLeftTop,o.frameLeftBottom,o.frameTop,o.frameTopLeft,o.frameTopRight].forEach((function(t){return null==t?void 0:t.addEventListener("mousedown",o.onResizeMousedown)})):[o.frameRight,o.frameRightTop,o.frameRightBottom,o.frameBottom,o.frameBottomLeft,o.frameBottomRight,o.frameLeft,o.frameLeftTop,o.frameLeftBottom,o.frameTop,o.frameTopLeft,o.frameTopRight].forEach((function(t){return null==t?void 0:t.removeEventListener("mousedown",o.onResizeMousedown)}))}),1);break;case ve.Draggable:i.waitForFrames((function(){if(null!==n){var t=[];o.isSizable||t.push(o.frameRight,o.frameBottom,o.frameLeft,o.frameTopLeft,o.frameLeftTop,o.frameRightTop,o.frameTopRight,o.frameBottomLeft,o.frameLeftBottom,o.frameBottomRight,o.frameRightBottom),o.titlebar&&t.push(o.titlebar),o.draggableRef=new le(o,t,{initialX:o.positionX,initialY:o.positionY,onStart:function(){M.initiateDocking(o.keyPath)},onChangePosition:function(t,e){var n=M.applyDocking(t,e);o.positionX=n.x,o.positionY=n.y,o.updatedPos()},onFinish:function(){o.storeIniState()}})}else{var e;null===(e=o.draggableRef)||void 0===e||e.destroy(),o.draggableRef=null}}),1)}}},{key:"connectedCallback",value:function(){var t=this;this.positionX=parseInt(this.getAttribute(ve.X)),this.positionY=parseInt(this.getAttribute(ve.Y)),this.width=parseInt(this.getAttribute(lt.Width)),this.height=parseInt(this.getAttribute(lt.Height)),this.componentRendered().then((function(){var e;t.titleElement=t.querySelector(".title"),t.titleElement.innerHTML=t.title,t.container=t.firstElementChild,t.hasAttribute(ve.MinWidth)&&(t.container.style.minWidth=A(parseInt(t.minWidth))),t.hasAttribute(ve.MinHeight)&&(t.container.style.minHeight=A(parseInt(t.minHeight))),t.addEventListener("mousedown",t.onMouseDown),t.addEventListener("mouseover",t.onMouseOver),t.addEventListener("mouseout",t.onMouseOut),t.frameRight=t.querySelector(".window-frame-right"),t.frameBottom=t.querySelector(".window-frame-bottom"),t.frameTop=t.querySelector(".window-frame-top"),t.frameLeft=t.querySelector(".window-frame-left"),t.frameBottomRight=t.querySelector(".window-frame-bottom-right"),t.frameRightBottom=t.querySelector(".window-frame-right-bottom"),t.frameBottomLeft=t.querySelector(".window-frame-bottom-left"),t.frameLeftBottom=t.querySelector(".window-frame-left-bottom"),t.frameTopRight=t.querySelector(".window-frame-top-right"),t.frameRightTop=t.querySelector(".window-frame-right-top"),t.frameTopLeft=t.querySelector(".window-frame-top-left"),t.frameLeftTop=t.querySelector(".window-frame-left-top");var n,i=null===(e=t.container)||void 0===e?void 0:e.querySelector(".window-body");t.hasAttribute(ve.Overflow)&&(i.style.overflow=null!==(n=t.getAttribute(ve.Overflow))&&void 0!==n?n:""),i.addEventListener("click",t.onMouseClick),t.hasMinimizebox&&(t.minimizeBtn=t.querySelector("eq-screen .titlebar-left .minimize"),t.minimizeBtn.style.display="block",t.minimizeBtn.addEventListener("mousedown",t.onMinimizeDown),t.minimizeBtn.addEventListener("click",t.onMinimizeClick),t.minimizeBtn.setAttribute(Nt,"Minimize this window"),t.minimizeBtn.addEventListener("mouseover",(function(){Ut.setElement(t.minimizeBtn)}))),t.hasClosebox&&(t.closeBtn=t.querySelector("eq-screen .titlebar-right .close"),t.closeBtn.style.display="block",t.closeBtn.addEventListener("mousedown",t.onCloseDown),t.closeBtn.addEventListener("click",t.onCloseClick),t.closeBtn.setAttribute(Nt,"Close this window"),t.closeBtn.addEventListener("mouseover",(function(){Ut.setElement(t.closeBtn)}))),t.hasQmarkbox&&(t.qmarkBtn=t.querySelector("eq-screen .titlebar-right .qmark"),t.qmarkBtn.style.display="block",t.qmarkBtn.addEventListener("mousedown",t.onQmarkDown),t.qmarkBtn.addEventListener("click",t.onQmarkClick),t.qmarkBtn.setAttribute(Nt,"Click for help about this window."),t.qmarkBtn.addEventListener("mouseover",(function(){Ut.setElement(t.qmarkBtn)}))),t.hasTitlebar&&(t.titlebar=t.querySelector("eq-screen .titlebar"),t.titlebar.style.display="flex"),t.scrollContainers=t.querySelectorAll("eq-scroll-container"),t.eqLists=t.querySelectorAll("eq-list")})).catch((function(t){console.error(t)}))}},{key:"disconnectedCallback",value:function(){var t,e,n,o,r=this;null===(t=this.draggableRef)||void 0===t||t.destroy(),null===(e=this.frameRight)||void 0===e||e.removeEventListener("mousedown",this.onResizeMousedown),null===(n=this.frameBottom)||void 0===n||n.removeEventListener("mousedown",this.onResizeMousedown),null===(o=this.frameBottomRight)||void 0===o||o.removeEventListener("mousedown",this.onResizeMousedown),i.waitForFrames((function(){r.removeEventListener("mousedown",r.onMouseDown),document.removeEventListener("mouseup",r.onResizeMouseup)}),1)}}],n&&ue(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Tt),ye(ae.prototype,"onMouseDown",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onMouseDown"),ae.prototype),ye(ae.prototype,"onMouseOver",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onMouseOver"),ae.prototype),ye(ae.prototype,"onMouseOut",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onMouseOut"),ae.prototype),ye(ae.prototype,"onResizeMousedown",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onResizeMousedown"),ae.prototype),ye(ae.prototype,"onResizeMouseup",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onResizeMouseup"),ae.prototype),ye(ae.prototype,"onResizeMousemove",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onResizeMousemove"),ae.prototype),ye(ae.prototype,"onMinimizeDown",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onMinimizeDown"),ae.prototype),ye(ae.prototype,"onMinimizeUp",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onMinimizeUp"),ae.prototype),ye(ae.prototype,"onMinimizeClick",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onMinimizeClick"),ae.prototype),ye(ae.prototype,"onCloseDown",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onCloseDown"),ae.prototype),ye(ae.prototype,"onCloseUp",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onCloseUp"),ae.prototype),ye(ae.prototype,"onCloseClick",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onCloseClick"),ae.prototype),ye(ae.prototype,"onQmarkDown",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onQmarkDown"),ae.prototype),ye(ae.prototype,"onQmarkUp",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onQmarkUp"),ae.prototype),ye(ae.prototype,"onQmarkClick",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onQmarkClick"),ae.prototype),ye(ae.prototype,"onMouseClick",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"onMouseClick"),ae.prototype),se=ae))||se)||se;function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Ee(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}function Pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(t){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Te(t)}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.defineCustomElement("eq-screen",Oe),function(t){t.Checked="checked",t.Enabled="enabled",t.StateChecked="state-checked",t.StateDisabled="state-disabled"}(we||(we={}));var je,Me,Ae=xt('<div class="container"> <div can-change-opacity class="checkbox"></div> <div class="label"></div> </div> ')((ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Te(i);if(o){var n=Te(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pe(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),xe(Pe(t=r.call(this)),"box",null),xe(Pe(t),"labelContainer",null),xe(Pe(t),"visible",void 0),t.checked="1",t.enabled="1",t.visible=!0,t}return e=s,(n=[{key:"keyChecked",get:function(){return"".concat(this.keyPath,".").concat(a)}},{key:"checked",get:function(){return this.getAttribute(we.StateChecked)},set:function(t){var e,n;t!==this.checked&&("1"==t||"true"==t?(this.setAttribute(we.StateChecked,t),null===(e=this.labelContainer)||void 0===e||e.classList.add("c-yellow")):(this.removeAttribute(we.StateChecked),null===(n=this.labelContainer)||void 0===n||n.classList.remove("c-yellow")))}},{key:"enabled",get:function(){return this.getAttribute(we.StateDisabled)?"0":"1"},set:function(t){t!==this.enabled&&("1"===t||"true"===t?this.removeAttribute(we.StateDisabled):this.setAttribute(we.StateDisabled,""))}},{key:"onMousedown",value:function(t){if(0===t.button&&this.enabled){var e=this.checked?"0":"1";this.checked=e,ut.sendEvent(this.dispatch,this.keyPath,W,tt(t),e),ut.updateValue(this.keyChecked,e,this)}}},{key:"bindCpp",value:function(){ut.bindValue(this.keyChecked,this.checked?this.checked:"0",this),ut.bindValue(this.keyEnabled,this.enabled,this),ut.bindValue(this.keyVisible,this.visible?"1":"0",this),this.updated()}},{key:"updated",value:function(){var t,e,n=ut.getValue(this.keyChecked),i=ut.getValue(this.keyEnabled);this.checked=n,this.enabled=i,this.checked?null===(t=this.labelContainer)||void 0===t||t.classList.add("c-yellow"):null===(e=this.labelContainer)||void 0===e||e.classList.remove("c-yellow");var o=ut.getValue(this.keyVisible);if(null!==o){if("0"===o)return void(this.visible&&(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"));this.visible||(this.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents="")}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.querySelector(".label").innerHTML=t.label,t.box=t.querySelector(".checkbox"),t.box.addEventListener("mousedown",t.onMousedown),t.labelContainer=t.querySelector(".label"),t.labelContainer.addEventListener("mousedown",t.onMousedown),t.tooltipContent&&(t.setAttribute(Nt,t.tooltipContent),t.addEventListener("mouseover",(function(){return Ut.setElement(t)})))})).catch((function(t){console.error(t)}))}}])&&Ee(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),function(t,e,n,i,o){var r={};Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null)}(ge.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(ge.prototype,"onMousedown"),ge.prototype),be=ge))||be;function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ze(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _e(t,e){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_e(t,e)}function Ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(t){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qe(t)}function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ie(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-checkbox",Ae);var De,Fe=10,Ne=22;!function(t){t.Horizontal="horizontal",t.Autohide="autohide",t.Disabled="disabled",t.ForceHideScrollbar="hide-scrollbar"}(De||(De={}));var He,Ue,We=jt([De.Disabled])(je=xt('<div class="container"> <div class="content"> <component-slot data-name="content"></component-slot> </div> <div class="scrollbar"> <div can-change-opacity class="arrow-up"></div> <div can-change-opacity class="track"> <div can-change-opacity class="handle"> <div class="start"></div> <div class="end"></div> </div> <div class="track-filter"></div> </div> <div can-change-opacity class="arrow-down"></div> </div> </div> ')((Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(a,t);var e,n,o,r,s=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qe(o);if(r){var n=qe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ve(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Be(Ve(t=s.call(this)),"state",{isLongPress:!1}),Be(Ve(t),"container",void 0),Be(Ve(t),"content",void 0),Be(Ve(t),"slotContent",void 0),Be(Ve(t),"scrollbar",void 0),Be(Ve(t),"track",void 0),Be(Ve(t),"arrowUp",void 0),Be(Ve(t),"arrowDown",void 0),Be(Ve(t),"handle",void 0),Be(Ve(t),"slotObserver",void 0),Be(Ve(t),"draggableRef",void 0),t.slotObserver=new MutationObserver((function(e){var n,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}(e);try{for(o.s();!(n=o.n()).done;)"childList"===n.value.type&&i.waitForFrames((function(){t.currentScrollOnScrollAreaInPixels=0,t.resize()}),2)}catch(t){o.e(t)}finally{o.f()}})),t}return e=a,(n=[{key:"isVertical",get:function(){return!this.hasAttribute(De.Horizontal)}},{key:"isAutohide",get:function(){return this.hasAttribute(De.Autohide)}},{key:"handleSize",get:function(){var t=this.content.getBoundingClientRect(),e=this.isVertical?t.height/this.maxScrollOnScrollAreaInPixels:t.width/this.maxScrollOnScrollAreaInPixels;return e>=1||isNaN(e)?1:e}},{key:"handleOffset",get:function(){return this.isVertical?this.currentScrollOnScrollAreaInPixels/this.slotContentRect.height:this.currentScrollOnScrollAreaInPixels/this.slotContentRect.width}},{key:"slotContentRect",get:function(){return this.slotContent.getBoundingClientRect()}},{key:"trackRect",get:function(){return this.track.getBoundingClientRect()}},{key:"maxScrollOnScrollAreaInPixels",get:function(){return this.isVertical?this.content.scrollHeight:this.content.scrollWidth}},{key:"currentScrollOnScrollAreaInPixels",get:function(){return this.isVertical?this.content.scrollTop:this.content.scrollLeft},set:function(t){this.isVertical?this.content.scrollTop=t:this.content.scrollLeft=t}},{key:"hideScrollbar",value:function(){this.scrollbar.style.display="none",this.container.style.paddingRight="0"}},{key:"showScrollbar",value:function(){this.scrollbar.style.display="",this.container.style.paddingRight=""}},{key:"onScroll",value:function(t){this.updateHandle(),this.isVertical?this.draggableRef.setCoordinates({y:this.currentScrollOnScrollAreaInPixels/this.slotContentRect.height*this.trackRect.height}):this.draggableRef.setCoordinates({x:this.currentScrollOnScrollAreaInPixels/this.slotContentRect.width*this.trackRect.width})}},{key:"onMousedownArrowUp",value:function(t){var e=this;if(0===t.button){this.arrowUp.classList.add("pressed");var n=function(){e.currentScrollOnScrollAreaInPixels-=Fe,e.updateHandle()};this.state.longPressTimeout=setTimeout((function(){e.state.isLongPress=!0,e.state.interval=setInterval((function(){n()}),40)}),100),this.state.isLongPress||n()}}},{key:"onMousedownArrowDown",value:function(t){var e=this;if(0===t.button){this.arrowDown.classList.add("pressed");var n=function(){e.currentScrollOnScrollAreaInPixels+=Fe,e.updateHandle()};this.state.longPressTimeout=setTimeout((function(){e.state.isLongPress=!0,e.state.interval=setInterval((function(){n()}),40)}),100),this.state.isLongPress||n()}}},{key:"onMouseupArrowUp",value:function(){this.arrowUp.classList.remove("pressed"),this.state.isLongPress=!1,this.state.interval&&clearInterval(this.state.interval),this.state.longPressTimeout&&clearTimeout(this.state.longPressTimeout)}},{key:"onMouseupArrowDown",value:function(){this.arrowDown.classList.remove("pressed"),this.state.isLongPress=!1,this.state.interval&&clearInterval(this.state.interval),this.state.longPressTimeout&&clearTimeout(this.state.longPressTimeout)}},{key:"onTrackMousedown",value:function(t){if(0===t.button){var e=this.isVertical?this.trackRect.top:this.trackRect.left,n=this.isVertical?this.trackRect.height:this.trackRect.width,i=((this.isVertical?t.clientY:t.clientX)-e)/n;this.currentScrollOnScrollAreaInPixels=this.slotContentRect.height*i,this.updateHandle()}}},{key:"shouldSetCustomHeight",value:function(){return this.hasAttribute(lt.Height)}},{key:"resize",value:function(){var t=this;i.waitForFrames((function(){t.isAutohide&&(t.handleSize>.99?t.hideScrollbar():t.showScrollbar());var e=t.scrollbar.getBoundingClientRect().height;0===t.trackRect.height&&e<54?(t.arrowUp.style.height=A(Math.min((e-Fe)/2,Ne)),t.arrowDown.style.height=A(Math.min((e-Fe)/2,Ne))):(t.arrowUp.style.height=t.arrowUp.getBoundingClientRect().height<Ne?A(Math.min((e-Fe)/2,Ne)):A(Ne),t.arrowDown.style.height=t.arrowDown.getBoundingClientRect().height<Ne?A(Math.min((e-Fe)/2,Ne)):A(Ne)),t.updateHandle()}))}},{key:"attributeChangedCallback",value:function(t,e,n){t===De.Disabled&&(this.handle.style.display=null!==n?"none":"")}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.container=t.querySelector(".container"),t.content=t.querySelector(".content"),t.slotContent=t.querySelector(".content").firstElementChild,t.scrollbar=t.querySelector(".scrollbar"),t.track=t.querySelector(".track"),t.arrowUp=t.querySelector(".arrow-up"),t.arrowDown=t.querySelector(".arrow-down"),t.handle=t.querySelector(".handle"),t.slotObserver.observe(t.slotContent,{childList:!0,subtree:!0}),t.isVertical||t.container.classList.add("horizontal"),t.shouldSetCustomHeight()&&(t.container.style.height=t.height?String(t.height):"0"),i.waitForFrames((function(){t.draggableRef=new le(t.track,[t.handle],{initialX:t.currentScrollOnScrollAreaInPixels,initialY:t.currentScrollOnScrollAreaInPixels,stopPropagation:{onMouseDown:!0},onChangePosition:function(e,n){t.isVertical?t.currentScrollOnScrollAreaInPixels=n/t.trackRect.height*t.slotContentRect.height:t.currentScrollOnScrollAreaInPixels=e/t.trackRect.width*t.slotContentRect.width,t.updateHandle()}})}),1),t.content.addEventListener("scroll",t.onScroll),t.arrowUp.addEventListener("mousedown",t.onMousedownArrowUp),document.addEventListener("mouseup",t.onMouseupArrowUp),t.arrowDown.addEventListener("mousedown",t.onMousedownArrowDown),document.addEventListener("mouseup",t.onMouseupArrowDown),t.track.addEventListener("mousedown",t.onTrackMousedown),t.handle.addEventListener("click",(function(t){return t.stopPropagation()})),i.waitForFrames((function(){return t.resize()}))})).catch((function(t){console.error(t)}))}},{key:"disconnectedCallback",value:function(){var t;this.slotObserver.disconnect(),null===(t=this.draggableRef)||void 0===t||t.destroy(),document.removeEventListener("mouseup",this.onMouseupArrowUp),document.removeEventListener("mouseup",this.onMouseupArrowDown)}},{key:"updateHandle",value:function(){1===this.handleSize?this.setAttribute(De.Disabled,""):this.removeAttribute(De.Disabled),this.isVertical?(this.handle.style.height=100*this.handleSize+"%",this.handle.style.top=100*this.handleOffset+"%",this.draggableRef.setCoordinates({y:this.handleOffset*this.trackRect.height}),this.handleOffset+this.handleSize>1&&(this.handle.style.top=100-100*this.handleSize+"%")):(this.handle.style.width=100*this.handleSize+"%",this.handle.style.left=100*this.handleOffset+"%",this.draggableRef.setCoordinates({x:this.handleOffset*this.trackRect.width}),this.handleOffset+this.handleSize>1&&(this.handle.style.left=100-100*this.handleSize+"%")),this.hasAttribute(De.ForceHideScrollbar)&&this.hideScrollbar()}}])&&ze(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt),Ie(Me.prototype,"onScroll",[Mt],Object.getOwnPropertyDescriptor(Me.prototype,"onScroll"),Me.prototype),Ie(Me.prototype,"onMousedownArrowUp",[Mt],Object.getOwnPropertyDescriptor(Me.prototype,"onMousedownArrowUp"),Me.prototype),Ie(Me.prototype,"onMousedownArrowDown",[Mt],Object.getOwnPropertyDescriptor(Me.prototype,"onMousedownArrowDown"),Me.prototype),Ie(Me.prototype,"onMouseupArrowUp",[Mt],Object.getOwnPropertyDescriptor(Me.prototype,"onMouseupArrowUp"),Me.prototype),Ie(Me.prototype,"onMouseupArrowDown",[Mt],Object.getOwnPropertyDescriptor(Me.prototype,"onMouseupArrowDown"),Me.prototype),Ie(Me.prototype,"onTrackMousedown",[Mt],Object.getOwnPropertyDescriptor(Me.prototype,"onTrackMousedown"),Me.prototype),je=Me))||je)||je;function Ye(t){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(t)}function Xe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ge(t,e){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ge(t,e)}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ke(t)}i.defineCustomElement("eq-scroll-container",We),function(t){t.StyleBorder="style-border",t.StyleTooltip="style-tooltip",t.StyleVerticalScroll="style-vscroll",t.StyleHorizontalScroll="style-hscroll",t.StyleTransparent="style-transparent",t.LeftAnchorOffset="left-anchor-ofset",t.TopAnchorOffset="top-anchor-offset",t.RightAnchorOffset="right-anchor-offset",t.BottomAnchorOffset="bottom-anchor-offset"}(Ue||(Ue={}));var Qe,Je,$e,Ze,tn=xt('<div class="container"> <div class="titlebar"> <div class="titlebar-left" can-change-opacity> <div class="minimize"></div> </div> <div class="titlebar-middle" can-change-opacity> <span class="title"></span> </div> <div class="titlebar-right" can-change-opacity> <div class="qmark"></div> <div class="close"></div> </div> </div> <div can-change-opacity class="window-frame-top-left"></div> <div can-change-opacity class="window-frame-top"></div> <div can-change-opacity class="window-frame-top-right"></div> <div can-change-opacity class="window-frame-right-top"></div> <div can-change-opacity class="window-frame-right"></div> <div can-change-opacity class="window-frame-right-bottom"></div> <div can-change-opacity class="window-frame-bottom-right"></div> <div can-change-opacity class="window-frame-bottom"></div> <div can-change-opacity class="window-frame-bottom-left"></div> <div can-change-opacity class="window-frame-left-top"></div> <div can-change-opacity class="window-frame-left"></div> <div can-change-opacity class="window-frame-left-bottom"></div> <div class="window-body" style="overflow:visible"> <div class="background-color" can-change-opacity> <div class="background"></div> </div> <div slot="body"></div> </div> </div> ')(He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ke(i);if(o){var n=Ke(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),r.call(this)}return e=s,(n=[{key:"styleBorder",get:function(){return this.hasAttribute(Ue.StyleBorder)}},{key:"styleTooltip",get:function(){return this.hasAttribute(Ue.StyleTooltip)}},{key:"styleVerticalScroll",get:function(){return this.hasAttribute(Ue.StyleVerticalScroll)}},{key:"styleHorizontalScroll",get:function(){return this.hasAttribute(Ue.StyleHorizontalScroll)}},{key:"styleTransparent",get:function(){return this.hasAttribute(Ue.StyleTransparent)}},{key:"leftAnchorOffset",get:function(){return this.hasAttribute(Ue.LeftAnchorOffset)?Number(this.getAttribute(Ue.LeftAnchorOffset)):0}},{key:"rightAnchorOffset",get:function(){return this.hasAttribute(Ue.RightAnchorOffset)?Number(this.getAttribute(Ue.RightAnchorOffset)):0}},{key:"topAnchorOffset",get:function(){return this.hasAttribute(Ue.TopAnchorOffset)?Number(this.getAttribute(Ue.TopAnchorOffset)):0}},{key:"bottomAnchorOffset",get:function(){return this.hasAttribute(Ue.BottomAnchorOffset)?Number(this.getAttribute(Ue.BottomAnchorOffset)):0}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.classList.add(t.templateClass),t.styleBorder&&["window-frame-top-left","window-frame-top","window-frame-top-right","window-frame-right-top","window-frame-right","window-frame-right-bottom","window-frame-bottom-right","window-frame-bottom","window-frame-bottom-left","window-frame-left-top","window-frame-left","window-frame-left-bottom"].forEach((function(e){var n=t.querySelector("."+e);n&&n.classList.add("d-block")}))})).catch((function(t){console.error(t)}))}}])&&Xe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt))||He;function en(t){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(t)}function nn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=rn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function on(t){return function(t){if(Array.isArray(t))return sn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(t,e){if(t){if("string"==typeof t)return sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(t,e):void 0}}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function an(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ln(t,e){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ln(t,e)}function cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(t){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},un(t)}function hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dn(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-box",tn),function(t){t[t.String=0]="String",t[t.Image=1]="Image"}($e||($e={})),function(t){t.Columns="columns",t.ColumnsWidth="columns-width",t.ColumnsJustification="columns-justification",t.ForceHideScrollbar="hide-scrollbar"}(Ze||(Ze={}));var fn,pn,yn=xt('<eq-box style-border="true"> <div slot="body"> <div class="eq-list-container"> <div class="eq-list-row eq-list-header"></div> <eq-scroll-container autohide> <component-slot data-name="content"></component-slot> </eq-scroll-container> </div> </div> </eq-box> ')((Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(l,t);var e,n,r,s,a=(r=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=un(r);if(s){var n=un(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cn(t)}(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),hn(cn(t=a.call(this)),"state",{currentColumn:0}),hn(cn(t),"container",void 0),hn(cn(t),"header",void 0),hn(cn(t),"scrollContainerSlot",void 0),hn(cn(t),"visible",void 0),t.visible=!0,t}return e=l,(n=[{key:"keyColumnsWidths",get:function(){return"".concat(this.keyPath,".").concat("ColumnsWidths")}},{key:"keyColumnsJustification",get:function(){return"".concat(this.keyPath,".").concat("ColumnsJustification")}},{key:"keySelected",get:function(){return"".concat(this.keyPath,".").concat(g)}},{key:"hideScrollbar",get:function(){return!!this.hasAttribute(Ze.ForceHideScrollbar)}},{key:"columns",get:function(){return this.getAttribute(Ze.Columns).split(o)}},{key:"rows",get:function(){return this.querySelectorAll(".eq-list-row")}},{key:"separators",get:function(){return this.state.separators},set:function(t){var e=this;this.state.separators=t,this.state.separators.forEach((function(t,n){t.addEventListener("mousedown",e.onMousedownResize(n))}))}},{key:"columnsWidth",get:function(){return this.getAttribute(Ze.ColumnsWidth).split(o)},set:function(t){this.setAttribute(Ze.ColumnsWidth,t.join(o)),this.rows.forEach((function(e){var n=e.querySelectorAll(".col");t.forEach((function(t,e){n[e]&&(n[e].style.width=A(parseInt(t)))}))}));var e=t;e.forEach((function(t,n){e[n]=String(parseInt(t))})),ut.updateValue(this.keyColumnsWidths,e.join(o),this)}},{key:"columnsJustification",get:function(){return this.getAttribute(Ze.ColumnsJustification)?this.getAttribute(Ze.ColumnsJustification).split(o):[]},set:function(t){t.length>0?this.setAttribute(Ze.ColumnsJustification,t.join(o)):t=null!==this.getAttribute(Ze.ColumnsJustification)?this.getAttribute(Ze.ColumnsJustification).split(o):[],this.rows.forEach((function(e){e.querySelectorAll(".col").forEach((function(e,n){e&&(e.style.textAlign=n<t.length&&null!==t[n]&&t[n].length>0?t[n]:"left")}))}))}},{key:"selected",get:function(){return this.state.selected},set:function(t){var e,n;null===(e=this.scrollContainerSlot.children[this.state.selected])||void 0===e||e.classList.remove("selected"),null===(n=this.scrollContainerSlot.children[t])||void 0===n||n.classList.add("selected"),this.state.selected=t,ut.updateValue(this.keySelected,String(t),this)}},{key:"onMousedown",value:function(t){var e=this;return function(n){0!==n.button&&2!=n.button||(e.selected=t,0==n.button?ut.sendEvent(e.dispatch,e.keyPath,W,tt(n),String(t)):2==n.button&&ut.sendEvent(e.dispatch,e.keyPath,"EventRSelItem",tt(n),String(t)))}}},{key:"onHeaderClick",value:function(t){var e=this;return function(n){0===n.button&&ut.sendEvent(e.dispatch,e.keyPath,"EventColumnClick",tt(n),String(t))}}},{key:"onMousedownResize",value:function(t){var e=this;return function(n){e.state.currentColumn=t,document.addEventListener("mouseup",e.onMouseupResize),e.container.addEventListener("mousemove",e.onMousemoveResize)}}},{key:"onMouseupResize",value:function(t){this.container.removeEventListener("mousemove",this.onMousemoveResize)}},{key:"onMousemoveResize",value:function(t){var e=(0===this.state.currentColumn?this:this.separators[this.state.currentColumn-1]).getBoundingClientRect().x,n=t.clientX-e;this.changeColumnWidth(this.state.currentColumn,n/M.scaleUI)}},{key:"changeColumnWidth",value:function(t,e){if("last"!==t){var n=e>=0?Math.round(e):0;if(String(n)!==this.columnsWidth[t]){var i=on(this.columnsWidth);i[t]=String(n),this.columnsWidth=i}}}},{key:"bindCpp",value:function(){ut.bindValue(this.keyColumnsWidths,this.columnsWidth.join(o),this),ut.bindValue(this.keyColumnsJustification,this.columnsJustification.join(o),this),ut.bindValue(this.keyContent,"",this,{transient:!0}),ut.bindValue(this.keySelected,"",this,{transient:!0}),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyVisible);null!==t&&("0"===t?this.visible&&(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"):this.visible||(this.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents="")),this.fillContent();var e=ut.getValue(this.keyColumnsWidths);null!==e&&e.length>0&&(this.columnsWidth=e.split(o));var n=ut.getValue(this.keySelected);null!==n&&""!==n&&(this.selected=Number(n));var i=ut.getValue(this.keyColumnsJustification);null!==i&&""!==i&&(this.columnsJustification=i.split(o))}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){if(t.container=t.querySelector(".eq-list-container"),t.header=t.container.querySelector(".eq-list-header"),t.scrollContainerSlot=t.container.querySelector('component-slot[data-name="content"]'),t.querySelectorAll("eq-box").forEach((function(e){return e.setAttribute("template",t.templateClass)})),t.fillHeader(),i.waitForFrames((function(){var e=ut.getValue(t.keyColumnsWidths);null!==e&&e.length>0?t.columnsWidth=e.split(o):t.columnsWidth=on(t.columnsWidth)}),3),t.scrollContainerSlot.setAttribute(Nt,t.tooltipContent),t.header.setAttribute(Nt,t.tooltipContent),t.scrollContainerSlot.addEventListener("mouseover",(function(){Ut.setElement(t.scrollContainerSlot)})),t.header.addEventListener("mouseover",(function(){Ut.setElement(t.header)})),t.hideScrollbar){var e=t.querySelector("eq-scroll-container");e&&e.setAttribute("hide-scrollbar","true")}})).catch((function(t){console.error(t)}))}},{key:"fillHeader",value:function(){var t=this;this.header.innerHTML=this.columns.reduce((function(t,e,n,i){var o=n===i.length-1;return t+('<eq-list-column header class="col"><component-slot data-name="eq-list-column-content"><div class="col-content">'.concat(e,"</div></component-slot></eq-list-column>")+(o?"":'<div class="eq-list-separator" can-change-opacity>\n                        <div class="eq-list-separator-img"></div>\n                    </div>'))}),""),this.header.querySelectorAll(".col").forEach((function(e,n){return e.addEventListener("mousedown",t.onHeaderClick(n))})),this.separators=this.header.querySelectorAll(".eq-list-separator")}},{key:"fillContent",value:function(){var t=this;this.scrollContainerSlot.textContent="";var e=ut.getValue(this.keyContent),n=!1;if(e){try{n=JSON.parse(e)}catch(t){}var i,r,s=n?JSON.parse(e):e.split("\t");if(n)s.forEach((function(e,n){(r=document.createElement("div")).classList.add("eq-list-content"),r.classList.add("eq-list-row"),"true"==e.enabled&&r.addEventListener("mousedown",t.onMousedown(n)),t.scrollContainerSlot.appendChild(r),e.cells.forEach((function(t){var e=document.createElement("eq-list-column");e.classList.add("col");var n=t.color;switch(t.type){case $e.String:e.innerHTML='<component-slot data-name="eq-list-column-content" class="full-width">\n\t\t\t\t\t\t\t\t<div class="col-content"><span style="color: '.concat(n,';">').concat(t.value,"</span></div>\n\t\t\t\t\t\t\t</component-slot>");break;case $e.Image:e.innerHTML='<component-slot data-name="eq-list-column-content">\n                                <div>\n                                    <div class="col-content">\n                                       <div class="img" style="background: url(\''.concat(t.value,"')\" can-change-opacity></div>\n                                    </div>\n                                </div></component-slot>")}r.appendChild(e)}))}));else for(var a=0;a<s.length;a++){(i=document.createElement("div")).classList.add("eq-list-content"),i.classList.add("eq-list-row");var l=s[a].split(o);i.addEventListener("mousedown",this.onMousedown(a)),this.scrollContainerSlot.appendChild(i);var c,u=nn(l);try{for(u.s();!(c=u.n()).done;){var h=c.value,d=document.createElement("eq-list-column");d.classList.add("col"),d.innerHTML='<component-slot data-name="eq-list-column-content"><div class="col-content">'.concat(h,"</div>a</component-slot>"),i.appendChild(d)}}catch(t){u.e(t)}finally{u.f()}}}}}])&&an(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(Tt),dn(Je.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(Je.prototype,"onMousedown"),Je.prototype),dn(Je.prototype,"onHeaderClick",[Mt],Object.getOwnPropertyDescriptor(Je.prototype,"onHeaderClick"),Je.prototype),dn(Je.prototype,"onMousedownResize",[Mt],Object.getOwnPropertyDescriptor(Je.prototype,"onMousedownResize"),Je.prototype),dn(Je.prototype,"onMouseupResize",[Mt],Object.getOwnPropertyDescriptor(Je.prototype,"onMouseupResize"),Je.prototype),dn(Je.prototype,"onMousemoveResize",[Mt],Object.getOwnPropertyDescriptor(Je.prototype,"onMousemoveResize"),Je.prototype),Qe=Je))||Qe;function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function mn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bn(t,e){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bn(t,e)}function gn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wn(t){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wn(t)}function kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.defineCustomElement("eq-list",yn);var On,Cn,En,Sn=xt('<div class="eq-list-col"> <component-slot data-name="eq-list-column-content"></component-slot> </div> ')((pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bn(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wn(i);if(o){var n=wn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gn(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),kn(gn(t=r.call(this)),"column",void 0),kn(gn(t),"content",void 0),t}return e=s,(n=[{key:"onMouseover",value:function(t){(null==this?void 0:this.getBoundingClientRect().width)<=this.content.getBoundingClientRect().width&&(t.stopPropagation(),Ut.setElement(this,!1))}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.column=t.firstElementChild,t.content=t.querySelector(".col-content"),t.column.addEventListener("mouseover",t.onMouseover),t.column.textContent&&t.setAttribute(Nt,t.column.textContent)})).catch((function(t){console.error(t)}))}}])&&mn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),function(t,e,n,i,o){var r={};Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null)}(pn.prototype,"onMouseover",[Mt],Object.getOwnPropertyDescriptor(pn.prototype,"onMouseover"),pn.prototype),fn=pn))||fn;function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function Tn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xn(t,e){return xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xn(t,e)}function jn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(t){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mn(t)}function An(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.defineCustomElement("eq-list-column",Sn),function(t){t.LineHeight="line-height",t.ForceHideScrollbar="hide-scrollbar"}(En||(En={}));var Ln,Rn,zn,_n=xt('<eq-box style-border="true"> <div slot="body"> <div class="eq-stml-container"> <eq-scroll-container autohide> <component-slot data-name="content"></component-slot> </eq-scroll-container> </div> </div> </eq-box> ')((Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xn(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mn(i);if(o){var n=Mn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jn(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),An(jn(t=r.call(this)),"container",void 0),An(jn(t),"scrollContainerSlot",void 0),An(jn(t),"visible",void 0),t.visible=!0,t}return e=s,n=[{key:"LineHeight",get:function(){var t=this.getAttribute(En.LineHeight);return t||(t="1.7rem",this.setAttribute(En.LineHeight,t)),t}},{key:"hideScrollbar",get:function(){return!!this.hasAttribute(En.ForceHideScrollbar)}},{key:"bindCpp",value:function(){ut.bindValue(this.keyVisible,"1",this),ut.bindValue(this.keyContent,"",this),ut.bindValue(this.keyColor,"",this),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyContent);if(null!==t){t=function(t){return t.replace(/<br>/gi,'<div class="br"></div>')}(function(t){return t.replace(/<br>\r?\n?<br>/gi,'<div class="brbr"></div>')}(t=function(t){return t.replace(/<((?:a href=")|(?:c "))([^">]+?)(?=>)/gi,'<$1$2"')}(t))),this.scrollContainerSlot.innerHTML=function(t){var e=t.replace(/<c "#(\w+)"="">/gi,'<span style="color: #$1;">');e=(e=(e=(e=(e=(e=e.replace(/<c "#(\w+)">/gi,'<span style="color: #$1;">')).replace(/(<a href=".*?">)(<span style=".*?">)/gi,"$2$1")).replace(/(<\/c>)(<\/a>)/gi,"$2$1")).replace(/(<a href=".*?">)/gi,'<span style="border-bottom: 1px solid;">$1')).replace(/(<\/a>)/gi,"</span>$1")).replace(/<\/c>/gi,"</span>");var n=document.createElement("div");return n.innerHTML=e,e=n.innerHTML,document.removeChild(n),e}(t);var e=ut.getValue(this.keyColor);e&&e.length>0&&(this.style.color=e);var n=ut.getValue(this.keyVisible);null!==n&&("0"===n?this.visible&&(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"):this.visible||(this.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents=""))}}},{key:"onMousedown",value:function(t){var e=t.target;if(e)if(e.outerHTML.startsWith('<a href="file:///')){var n=e.outerHTML;n=n.replace(/<a href="file:\/\/\/(.*?)".?(target=".*?")?>.*?<\/a>/i,"$1"),ut.sendEvent(this.dispatch,this.keyPath,Z,tt(t),n)}else if(e.innerHTML.startsWith('<a href="file:///')){var i=e.innerHTML;i=i.replace(/<a href="file:\/\/\/(.*?)".?(target=".*?")?>.*?<\/a>/i,"$1"),ut.sendEvent(this.dispatch,this.keyPath,Z,tt(t),i)}else if(e.innerHTML.startsWith('<a href="http')){var o=e.innerHTML;o=o.replace(/<a href="(http.*?)".?(target=".*?")?>.*?<\/a>/i,"$1"),ut.sendEvent(this.dispatch,this.keyPath,Z,tt(t),o)}else if(e.outerHTML.startsWith('<a href="http')){var r=e.outerHTML;r=r.replace(/<a href="(http.*?)".?(target=".*?")?>.*?<\/a>/i,"$1"),ut.sendEvent(this.dispatch,this.keyPath,Z,tt(t),r)}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){if(t.container=t.querySelector(".eq-stml-container"),t.scrollContainerSlot=t.container.querySelector('component-slot[data-name="content"]'),t.scrollContainerSlot.style.display="flex",t.scrollContainerSlot.style.flexWrap="wrap",t.scrollContainerSlot.style.lineHeight=t.LineHeight,t.hideScrollbar){var e=t.querySelector("eq-scroll-container");e&&e.setAttribute("hide-scrollbar","true")}var n=t.querySelectorAll("eq-box");t.addEventListener("mousedown",t.onMousedown),n.forEach((function(e){return e.setAttribute("template",t.templateClass)}))})).catch((function(t){console.error(t)}))}}],n&&Tn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),function(t,e,n,i,o){var r={};Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null)}(Cn.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(Cn.prototype,"onMousedown"),Cn.prototype),On=Cn))||On;function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function qn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function In(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Dn(t,e){return Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dn(t,e)}function Fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(t)}function Hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Un(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-stml",_n),function(t){t.BackgroundTint="background-tint",t.Disabled="disabled",t.TextTint="text-tint"}(zn||(zn={}));var Wn,Yn=xt('<div class="container"> <div can-change-opacity class="highlightColor"></div> <div can-change-opacity class="background"></div> <div can-change-opacity class="decal"></div> <div class="text"></div> </div> ')((Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dn(t,e)}(a,t);var e,n,i,r,s=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nn(i);if(r){var n=Nn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fn(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Hn(Fn(t=s.call(this)),"state",{isPressed:!1,isEnabled:!0,isMousedown:!1}),Hn(Fn(t),"background",void 0),Hn(Fn(t),"textElement",void 0),Hn(Fn(t),"highlightColorElement",void 0),Hn(Fn(t),"visible",void 0),t.visible=!0,t}return e=a,(n=[{key:"disabled",get:function(){return this.hasAttribute(zn.Disabled)}},{key:"keyHighlightColor",get:function(){return"".concat(this.keyPath,".").concat(b)}},{key:"backgroundTint",get:function(){return this.getAttribute(zn.BackgroundTint)}},{key:"textTint",get:function(){return this.getAttribute(zn.TextTint)}},{key:"isPressed",get:function(){return this.state.isPressed},set:function(t){this.isDisabled||(this.state.isPressed=t),!this.isDisabled&&t?this.classList.add("pressed"):this.classList.remove("pressed")}},{key:"isDisabled",get:function(){return!this.state.isEnabled},set:function(t){t?(this.state.isEnabled=!1,this.classList.add("disabled"),this.background.style.filter="",this.textElement.style.filter=""):(this.state.isEnabled=!0,this.classList.remove("disabled"),this.addBackgroundTint(),this.addTextTint())}},{key:"onMousedown",value:function(t){0!==t.button||this.isDisabled||(this.isPressed=!0,this.state.isMousedown=!0)}},{key:"onMouseup",value:function(t){if(!this.isDisabled&&this.state.isMousedown){var e=t.clientX+","+t.clientY;ut.sendEvent(this.dispatch,this.keyPath,W,tt(t),"",e)}this.isPressed=!1,this.state.isMousedown=!1}},{key:"onMouseover",value:function(){!this.isDisabled&&this.state.isMousedown&&(this.isPressed=!0),Ut.setElement(this)}},{key:"onMouseout",value:function(){this.isPressed=!1}},{key:"updated",value:function(){var t=ut.getValue(this.keyText);null!==t&&(this.textElement.innerHTML=t);var e=ut.getValue(this.keyHighlightColor);null!==e&&""!==e&&"0"!=e&&"#ffffffff"!=e?(this.highlightColorElement.style.borderColor=e,this.highlightColorElement.style.borderStyle="solid",this.highlightColorElement.style.opacity="1"):(this.highlightColorElement.style.borderColor="#ffffffff",this.highlightColorElement.style.borderStyle="hidden",this.highlightColorElement.style.opacity="0");var n=ut.getValue(this.keyEnabled);this.isDisabled="0"===n||"false"===n;var i=ut.getValue(this.keyTooltip);i&&this.setAttribute(Nt,i);var o=ut.getValue(this.keyVisible);if(null!==o){if("0"===o)return void(this.visible&&(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"));this.visible||(this.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents="")}}},{key:"bindCpp",value:function(){ut.bindValue(this.keyText,this.text,this),ut.bindValue(this.keyEnabled,"1",this),ut.bindValue(this.keyTooltip,"",this),ut.bindValue(this.keyVisible,"1",this),ut.bindValue(this.keyHighlightColor,"",this),this.updated()}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.background=t.querySelector(".background"),t.textElement=t.querySelector(".text"),t.textElement.innerHTML=t.text,t.highlightColorElement=t.querySelector(".highlightColor"),t.style.width=A(Number(t.width)),t.style.height=A(Number(t.height)),t.disabled&&(t.isDisabled=!0),t.isDisabled||(t.addTextTint(),t.addBackgroundTint()),t.tooltipContent&&(t.setAttribute(Nt,t.tooltipContent),t.addEventListener("mouseover",t.onMouseover)),t.addEventListener("mousedown",t.onMousedown),t.addEventListener("mouseup",t.onMouseup),t.addEventListener("mouseout",t.onMouseout)})).catch((function(t){console.error(t)}))}},{key:"addBackgroundTint",value:function(){if(this.backgroundTint){var t=qn(this.backgroundTint.split(o).map((function(t){return Number(t)/255})),3),e=t[0],n=t[1],i=t[2];this.background.style.filter=R(e,n,i)}}},{key:"addTextTint",value:function(){if(this.textTint){var t=qn(this.textTint.split(o).map((function(t){return Number(t)/255})),3),e=t[0],n=t[1],i=t[2];this.textElement.style.filter=R(e,n,i)}}}])&&In(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt),Un(Rn.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(Rn.prototype,"onMousedown"),Rn.prototype),Un(Rn.prototype,"onMouseup",[Mt],Object.getOwnPropertyDescriptor(Rn.prototype,"onMouseup"),Rn.prototype),Un(Rn.prototype,"onMouseover",[Mt],Object.getOwnPropertyDescriptor(Rn.prototype,"onMouseover"),Rn.prototype),Un(Rn.prototype,"onMouseout",[Mt],Object.getOwnPropertyDescriptor(Rn.prototype,"onMouseout"),Rn.prototype),Ln=Rn))||Ln;function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Gn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kn(t,e){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kn(t,e)}function Qn(t){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qn(t)}i.defineCustomElement("eq-button",Yn);var Jn,$n,Zn,ti=xt("<div></div> ")(Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kn(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qn(i);if(o){var n=Qn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"connectedCallback",value:function(){this.setAttribute("can-change-opacity",""),this.componentRendered().catch((function(t){console.error(t)}))}}])&&Gn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt))||Wn;function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ni(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ii(t,e){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ii(t,e)}function oi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(t)}function si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ai(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-separator",ti),function(t){t.FillValue="exp-value",t.GaugeType="gauge-type",t.GaugeTint="gauge-tint",t.AltFillValue="alt-fill-value",t.AltGaugeType="alt-gauge-type",t.AltGaugeTint="alt-gauge-tint",t.MiddleGaugeTint="middle-gauge-tint",t.HideTooltip="hide-tooltip"}(Zn||(Zn={}));var li,ci,ui,hi=xt('<div class="progress-bar-container"> <div class="left-cap"></div> <div class="progress-background"> <div class="progress-fill"> <div class="tint"></div> </div> <div class="alt-progress-fill"> <div class="alt-tint"></div> </div> <div class="middle-fill"> <div class="middle-tint"></div> </div> <div class="progress-lines"></div> </div> <div class="right-cap background-contain"></div> </div> ')(($n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ii(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ri(i);if(o){var n=ri(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),si(oi(t=r.call(this)),"progressFill",void 0),si(oi(t),"progressTint",void 0),si(oi(t),"altFill",void 0),si(oi(t),"altTint",void 0),si(oi(t),"middleTint",void 0),si(oi(t),"visible",void 0),si(oi(t),"gaugeTint",void 0),si(oi(t),"altGaugeTint",void 0),si(oi(t),"middleGaugeTint",void 0),t.value="0",t.altValue="0",t.visible=!0,t}return e=s,(n=[{key:"gaugeType",get:function(){return this.getAttribute(Zn.GaugeType)}},{key:"defaultGaugeTint",get:function(){return this.hasAttribute(Zn.GaugeTint)?this.convertToRGB(this.getAttribute(Zn.GaugeTint)):{R:0,G:0,B:0}}},{key:"defaultMiddleGaugeTint",get:function(){return this.hasAttribute(Zn.MiddleGaugeTint)?this.convertToRGB(this.getAttribute(Zn.MiddleGaugeTint)):{R:0,G:0,B:0}}},{key:"altGaugeType",get:function(){return this.getAttribute(Zn.AltGaugeType)}},{key:"defaultAltGaugeTint",get:function(){return this.hasAttribute(Zn.AltGaugeTint)?this.convertToRGB(this.getAttribute(Zn.AltGaugeTint)):{R:0,G:0,B:0}}},{key:"value",get:function(){return this.getAttribute(Zn.FillValue)},set:function(t){t?this.setAttribute(Zn.FillValue,t):this.removeAttribute(Zn.FillValue)}},{key:"altValue",get:function(){return this.getAttribute(Zn.AltFillValue)},set:function(t){t?this.setAttribute(Zn.AltFillValue,t):this.removeAttribute(Zn.AltFillValue)}},{key:"hideTooltip",get:function(){return this.getAttribute(Zn.HideTooltip)}},{key:"onMouseover",value:function(t){Ut.hide(),t.target&&""!=t.target.getAttribute(Nt)&&!t.target.className.includes("cap")&&Ut.setElement(t.target)}},{key:"onMouseclick",value:function(t){var e=t.clientX+","+t.clientY;ut.sendEvent(this.dispatch,this.keyPath,K,tt(t),"",e)}},{key:"bindCpp",value:function(){ut.bindValue(this.keyVisible,"1",this),ut.bindValue(this.gaugeType,this.value,this),ut.bindValue(this.altGaugeType,this.altValue,this),ut.registerKeySentEachFrame(this.gaugeType),ut.registerKeySentEachFrame(this.altGaugeType),ut.bindValue(this.keyTooltip,"",this),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyVisible);if(null!==t){if("0"===t)return void(this.visible&&(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"));this.visible||(this.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents="")}var e=this.parseValue(ut.getValue(this.gaugeType));this.value=e.value,this.progressTint.style.width=this.value;var n=this.doPrecision(this.value,this.gaugeType);"true"!=this.hideTooltip&&this.progressFill.setAttribute(Nt,n),this.gaugeTint=null!==e.color?e.color:this.defaultGaugeTint;var i=this.parseValue(ut.getValue(this.altGaugeType));this.altValue=i.value,this.altTint.style.width=this.altValue;var o=this.doPrecision(this.altValue,this.altGaugeType);"true"!=this.hideTooltip&&this.altFill.setAttribute(Nt,o),this.altGaugeTint=null!==i.color?i.color:this.defaultAltGaugeTint,"true"!=this.hideTooltip&&(this.progressTint.setAttribute(Nt,n),this.altTint.setAttribute(Nt,o)),this.middleTint.style.width=5*this.widthToNumber(this.value)%100+"%",this.setBackgroundColors(),Ut&&Ut.updateContent()}},{key:"parseValue",value:function(t){return"GAUGE_NO_DRAW"===t?(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none",{value:"0",color:null}):"GAUGE_FULL_DRAW"===t?{value:"100%",color:{R:128,G:0,B:0}}:"GAUGE_CORPSE_DRAW"===t||"GAUGE_EMPTY_DRAW"===t?{value:"0",color:null}:{value:t,color:null}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.gaugeTint=t.defaultGaugeTint,t.altGaugeTint=t.defaultAltGaugeTint,t.middleGaugeTint=t.defaultMiddleGaugeTint,t.progressFill=t.querySelector(".progress-fill"),t.progressTint=t.querySelector(".tint"),t.altFill=t.querySelector(".alt-progress-fill"),t.altTint=t.querySelector(".alt-tint"),t.middleTint=t.querySelector(".middle-tint"),t.addEventListener("mousemove",t.onMouseover),t.addEventListener("click",t.onMouseclick),t.setBackgroundColors(),t.setGaugesHeights()})).catch((function(t){console.error(t)}))}},{key:"setGaugesHeights",value:function(){this.hasAttribute(Zn.AltGaugeType)?(this.progressTint.style.height="33%",this.altTint.style.height="50%"):(this.progressTint.style.height="65%",this.altTint.style.height="0"),this.hasAttribute(Zn.MiddleGaugeTint)?this.middleTint.style.height="15%":this.middleTint.style.height="0"}},{key:"changeDown",value:function(t){return z(t-80,0,255)}},{key:"changeUp",value:function(t){return z(t+80,0,255)}},{key:"setBackgroundColors",value:function(){this.progressTint.style.background="linear-gradient(0deg, rgb(\n\t\t\t".concat(this.changeDown(this.gaugeTint.R),",\n\t\t\t").concat(this.changeDown(this.gaugeTint.G),",\n\t\t\t").concat(this.changeDown(this.gaugeTint.B),"), rgb(\n\t\t\t\t").concat(this.changeUp(this.gaugeTint.R),",\n\t\t\t\t").concat(this.changeUp(this.gaugeTint.G),",\n\t\t\t\t").concat(this.changeUp(this.gaugeTint.B),"))"),this.altTint.style.background="linear-gradient(0deg, rgb(\n\t\t\t".concat(this.changeDown(this.altGaugeTint.R),",\n\t\t\t").concat(this.changeDown(this.altGaugeTint.G),",\n\t\t\t").concat(this.changeDown(this.altGaugeTint.B),"), rgb(\n\t\t\t\t").concat(this.changeUp(this.altGaugeTint.R),",\n\t\t\t\t").concat(this.changeUp(this.altGaugeTint.G),",\n\t\t\t\t").concat(this.changeUp(this.altGaugeTint.B),"))"),this.middleTint.style.backgroundColor="rgb(".concat(this.middleGaugeTint.R,", ").concat(this.middleGaugeTint.G,", ").concat(this.middleGaugeTint.B,")")}},{key:"widthToNumber",value:function(t){return!t||Number.isNaN(+t)?0:Number(t.slice(0,-1))}},{key:"doPrecision",value:function(t,e){var n=t,i=e;return"GAUGETYPE_EXP"==i||"GAUGETYPE_ALTEXP"==i?(n="<"+n+">",""!=this.keyTooltip&&""!=ut.getValue(this.keyTooltip)&&(n+="<br>"+ut.getValue(this.keyTooltip))):"GAUGETYPE_VITALITY"==i?n="Available Vitality":"GAUGETYPE_VITALITY_AA"==i&&(n="Available AA Vitality"),n}},{key:"convertToRGB",value:function(t){var e=t.split("|");return{R:Number(e[0])||0,G:Number(e[1])||0,B:Number(e[2])||0}}}])&&ni(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),ai($n.prototype,"onMouseover",[Mt],Object.getOwnPropertyDescriptor($n.prototype,"onMouseover"),$n.prototype),ai($n.prototype,"onMouseclick",[Mt],Object.getOwnPropertyDescriptor($n.prototype,"onMouseclick"),$n.prototype),Jn=$n))||Jn;function di(t){return di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(t)}function fi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pi(t,e){return pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pi(t,e)}function yi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vi(t)}function mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bi(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-progress-bar",hi),function(t){t.LabelType="label-type",t.NoWrap="no-wrap",t.AlignRight="align-right",t.Clickable="clickable"}(ui||(ui={}));var gi=xt('<div class="text"></div> ')((ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pi(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vi(i);if(o){var n=vi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yi(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),mi(yi(t=r.call(this)),"textElement",void 0),mi(yi(t),"visible",void 0),t.visible=!0,t}return e=s,(n=[{key:"labelType",get:function(){return this.getAttribute(ui.LabelType)}},{key:"clickable",get:function(){return this.hasAttribute(ui.Clickable)}},{key:"labelTypeColor",get:function(){return this.labelType?"".concat(this.labelType,".").concat(m):this.keyColor||""}},{key:"labelTooltip",get:function(){return this.labelType?"".concat(this.labelType,".").concat(l):this.keyTooltip||this.getAttribute(lt.TooltipContent)||""}},{key:"onMouseover",value:function(){Ut.setElement(this)}},{key:"onMouseclick",value:function(t){var e=t.clientX+","+t.clientY;ut.sendEvent(this.dispatch,this.keyPath,K,tt(t),"",e)}},{key:"bindCpp",value:function(){ut.bindValue(this.keyVisible,"1",this),ut.bindValue(this.labelTypeColor,"",this,{notifyNow:!0}),ut.bindValue(this.labelTooltip,"",this,{notifyNow:!0}),ut.bindValue(this.keyColor,"",this),ut.bindValue(this.keyText,this.text,this),this.labelType&&(ut.bindValue(this.labelType,this.text,this,{notifyNow:!0}),ut.registerKeySentEachFrame(this.labelType)),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyVisible);if(null!==t){if("0"===t)return void(this.visible&&(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"));this.visible||(this.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents="")}if(this.labelType){var e=ut.getValue(this.labelType);null!==e&&(this.textElement.innerHTML=e);var n=ut.getValue(this.labelTypeColor);n&&n.length>0&&(this.style.color=n);var i=ut.getValue(this.labelTooltip);i&&i.length>0&&(this.setAttribute(Nt,i),this.addEventListener("mouseover",this.onMouseover))}else{var o=ut.getValue(this.keyText);null!==o&&""!==o?this.textElement.innerHTML=o:this.text&&(this.textElement.innerHTML=this.text);var r=ut.getValue(this.keyColor);r&&r.length>0&&(this.style.color=r);var s=ut.getValue(this.labelTooltip);s&&s.length>0&&(this.setAttribute(Nt,s),this.addEventListener("mouseover",this.onMouseover))}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.textElement=t.querySelector(".text"),t.textElement.innerHTML=t.text,t.width&&(t.style.width=A(Number(t.width))),t.height&&(t.style.height=A(Number(t.height))),t.tooltipContent&&(t.setAttribute(Nt,t.tooltipContent),t.addEventListener("mouseover",t.onMouseover)),t.clickable&&t.addEventListener("click",t.onMouseclick)})).catch((function(t){console.error(t)}))}}])&&fi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),bi(ci.prototype,"onMouseover",[Mt],Object.getOwnPropertyDescriptor(ci.prototype,"onMouseover"),ci.prototype),bi(ci.prototype,"onMouseclick",[Mt],Object.getOwnPropertyDescriptor(ci.prototype,"onMouseclick"),ci.prototype),li=ci))||li;i.defineCustomElement("eq-label",gi);var wi,ki,Oi,Ci={AutoStretchList:!1,Style_VScroll:!1,Style_HScroll:!1,Style_AutoVScroll:!1,Style_AutoHScroll:!1,Style_Transparent:!1,Style_TransparentControl:!1,Style_Border:!1,Style_Tooltip:!0,Font:3,RelativePosition:!0,AutoStretch:!1,AutoStretchVertical:!1,AutoStretchHorizontal:!1,TopAnchorToTop:!0,LeftAnchorToLeft:!0,BottomAnchorToTop:!0,RightAnchorToLeft:!0,TopAnchorOffset:0,BottomAnchorOffset:0,LeftAnchorOffset:0,RightAnchorOffset:0,MinVSize:0,MinHSize:0,MaxVSize:0,MaxHSize:0,UseInLayoutHorizontal:0,UseInLayoutVertical:0};function Ei(t){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(t)}function Si(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Pi(t,e){return Pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pi(t,e)}function Ti(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xi(t){return xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xi(t)}function ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mi(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}!function(t){t.Choices="choices",t.ListHeight="list-height",t.Expanded="expanded"}(Oi||(Oi={}));var Ai,Li,Ri,zi,_i=xt('<eq-box style-border="true"> <div slot="body"> <div class="eq-drop-down"> <div class="eq-dropdown-container"> <eq-box style-border="true"> <div slot="body"> <eq-scroll-container autohide> <div slot="content" class="eq-option-container"></div> </eq-scroll-container> </div> </eq-box> </div> </div> </div> </eq-box> ')((ki=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pi(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xi(i);if(o){var n=xi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ti(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),ji(Ti(t=r.call(this)),"hasBeenConnected",void 0),ji(Ti(t),"defaultConfig",Ci),ji(Ti(t),"visible",void 0),ji(Ti(t),"state",{_isExpanded:!1,_selectedIndex:0,_selectedOptions:[],_options:[]}),t.hasBeenConnected=!1,t.visible=!0,t}return e=s,(n=[{key:"keyChoices",get:function(){return"".concat(this.keyPath,".").concat("Choices")}},{key:"keySelected",get:function(){return"".concat(this.keyPath,".").concat(g)}},{key:"selectedOption",get:function(){var t;return this.state._options[null!==(t=this.state._selectedIndex)&&void 0!==t?t:0]}},{key:"choices",get:function(){var t;return(null===(t=this.getAttribute(Oi.Choices))||void 0===t?void 0:t.split("|"))||[]}},{key:"width",get:function(){return this.hasAttribute(lt.Width)?Number(this.getAttribute(lt.Width)):125}},{key:"height",get:function(){return this.hasAttribute(lt.Height)?Number(this.getAttribute(lt.Height)):20}},{key:"listHeight",get:function(){return this.hasAttribute(Oi.ListHeight)?Number(this.getAttribute(Oi.ListHeight)):80}},{key:"selectedOptions",get:function(){return this.state._selectedOptions},set:function(t){this.state._selectedOptions=t}},{key:"isExpanded",get:function(){return this.state._isExpanded},set:function(t){t?(this.setAttribute(Oi.Expanded,""),this.setAttribute(Nt,"")):(this.removeAttribute(Oi.Expanded),this.tooltipContent&&this.setAttribute(Nt,this.tooltipContent)),Ut.updateContent(),this.state._isExpanded=t}},{key:"onSelection",value:function(t){if(t.classList.contains("option")){this.updateElementsSelectedness(t),this.updateSelectedOptions(t);var e=t.getAttribute("index")||"";ut.updateValue(this.keySelected,e,null),ut.sendEvent(this.dispatch,this.keyPath,W,"",e)}}},{key:"onMouseover",value:function(){Ut.setElement(this)}},{key:"onMousedown",value:function(t){t.target.getAttribute("item")===this.item?this.toggleOptions():this.closeOptions()}},{key:"addSelectElements",value:function(){var t=this.querySelector(".eq-option-container"),e=document.createElement("eq-select"),n=document.createElement("div");n.classList.add("eq-select-options-container"),e.appendChild(n),t.appendChild(e)}},{key:"updateOptions",value:function(){var t=this.querySelector(".eq-select-options-container");t.textContent="",this.state._options=[];for(var e=0;e<this.choices.length;e++){var n=document.createElement("div");n.setAttribute("id",this.choices[e]),n.setAttribute("name",this.choices[e]),n.setAttribute("value",this.choices[e]),n.setAttribute("index",String(e)),n.classList.add("option"),n.classList.add("option-"+e),n.textContent=this.choices[e],this.state._options.push(n),t.appendChild(n)}}},{key:"insertArrowElement",value:function(t){var e=document.createElement("div");e.classList.add("custom-select-arrow"),e.setAttribute("can-change-opacity",""),null==t||t.appendChild(e)}},{key:"resetSelectedOption",value:function(){if(this.choices.length){var t=document.createElement("div");t.setAttribute("id",this.choices[0]),t.setAttribute("name",this.choices[0]),t.setAttribute("value",this.choices[0]),t.classList.add("option"),t.textContent=this.choices[0],this.selectedOptions=[t]}else this.selectedOptions=[]}},{key:"insertValuePlaceholder",value:function(){var t=this.selectedOption?this.selectedOption.textContent:"",e=this.querySelector(".eq-select-value");if(e)e.textContent=t;else{var n=document.createElement("div");n.setAttribute("tabindex","0"),n.setAttribute("item",this.item),n.classList.add("eq-select-value"),n.textContent=t;var i=this.querySelector(".eq-drop-down");i.appendChild(n),this.insertArrowElement(i)}}},{key:"toggleOptions",value:function(){var t=this.querySelector(".eq-dropdown-container"),e=this.isExpanded?"none":"block";this.isExpanded=!this.isExpanded,t.style.display=e,t.style.visibility="visible"}},{key:"closeOptions",value:function(){var t=this.querySelector(".eq-dropdown-container");this.isExpanded=!1,t.style.display="none"}},{key:"updateElementsSelectedness",value:function(t){this.removeSelectedClassName(),t.classList.add("scroll-item--selected")}},{key:"updateSelectedOptions",value:function(t){this.selectedOptions.includes(t)||(this.selectedOptions=[t],this.insertValuePlaceholder())}},{key:"removeSelectedClassName",value:function(){var t=this;this.choices.forEach((function(e,n){t.querySelector(".option-"+n).classList.remove("scroll-item--selected")}))}},{key:"addEventListeners",value:function(){var t=this;this.addEventListener("mousedown",(function(e){t.onSelection(e.target)})),document.addEventListener("mousedown",this.onMousedown)}},{key:"bindCpp",value:function(){ut.bindValue(this.keyChoices,"",this,{transient:!0}),ut.bindValue(this.keySelected,"",this,{transient:!0}),ut.bindValue(this.keyVisible,"1",this),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyChoices);null!==t&&(this.setAttribute(Oi.Choices,t),this.updateOptions(),this.resetSelectedOption(),this.insertValuePlaceholder());var e=ut.getValue(this.keySelected);null!==e&&(this.state._selectedIndex=Number(e),this.updateOptions(),this.resetSelectedOption(),this.insertValuePlaceholder());var n=ut.getValue(this.keyVisible);if(null!==n){if("0"===n)return void(this.visible&&(this.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"));this.visible||(this.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents="")}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){var e;if(!t.hasBeenConnected&&(t.hasBeenConnected=!0,t.addSelectElements(),t.choices)){t.updateOptions(),t.selectedOptions.length||t.resetSelectedOption(),t.insertValuePlaceholder(),null===(e=t.selectedOption)||void 0===e||e.classList.add("scroll-item--selected"),t.addEventListeners(),t.querySelectorAll("eq-box").forEach((function(e){return e.setAttribute("template",t.templateClass)}));var n=t.querySelector("eq-box");n.style.width=A(t.width+5),n.style.height=A(t.height);var i=t.querySelector(".eq-dropdown-container");i.style.width=A(t.width),i.style.top=A(t.height),t.querySelector(".eq-select-value").style.width=A(t.width),t.tooltipContent&&(t.setAttribute(Nt,t.tooltipContent),t.addEventListener("mouseover",t.onMouseover))}})).catch((function(t){console.error(t)}))}},{key:"disconnectedCallback",value:function(){document.removeEventListener("mousedown",this.onMousedown)}}])&&Si(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),Mi(ki.prototype,"onSelection",[Mt],Object.getOwnPropertyDescriptor(ki.prototype,"onSelection"),ki.prototype),Mi(ki.prototype,"onMouseover",[Mt],Object.getOwnPropertyDescriptor(ki.prototype,"onMouseover"),ki.prototype),Mi(ki.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(ki.prototype,"onMousedown"),ki.prototype),wi=ki))||wi;function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function qi(t,e){if(t){if("string"==typeof t)return Bi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(t,e):void 0}}function Bi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Fi(t,e,n){return e&&Di(t.prototype,e),n&&Di(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ni(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hi(t,e)}function Hi(t,e){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hi(t,e)}function Ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Yi(t);if(e){var o=Yi(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}(this,n)}}function Wi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(t)}function Xi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-drop-down",_i);var Ki,Qi=0,Ji=0,$i=i.KEYCODES,Zi=xt('<div class="container"> <div class="tabs-header"> <component-slot data-name="tab"> <eq-tab-heading slot="tab">First Tab</eq-tab-heading> <eq-tab-heading slot="tab">Second Tab</eq-tab-heading> </component-slot> </div> <component-slot data-name="panel"> <eq-tab-panel slot="panel">First Tab Content</eq-tab-panel> <eq-tab-panel slot="panel">Second Tab Content</eq-tab-panel> </component-slot> </div> ')((Li=function(t){Ni(n,t);var e=Ui(n);function n(){var t;return Ii(this,n),Xi(Wi(t=e.call(this)),"scrollContainers",void 0),t}return Fi(n,[{key:"keyIndex",get:function(){return"".concat(this.keyPath,".").concat("Index")}},{key:"onKeyDown",value:function(t){if("eq-tab-heading"===t.target.tagName.toLowerCase()&&!t.altKey){var e;switch(t.keyCode){case $i.LEFT:case $i.UP:e=this.getPrevTab();break;case $i.RIGHT:case $i.DOWN:e=this.getNextTab();break;case $i.HOME:e=this.getFirstTab();break;case $i.END:e=this.getLastTab();break;default:return}t.preventDefault(),this.selectTab(e)}}},{key:"onMousedown",value:function(t){var e,n,i,o=t.target,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=qi(t))){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}(this.getAllTabs().entries());try{for(r.s();!(e=r.n()).done;){var s=(n=e.value,i=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}}(n,i)||qi(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s[0],l=s[1];if(l.contains(o)){this.selectTab(l),ut.updateValue(this.keyIndex,String(a),null),ut.sendEvent(this.dispatch,this.keyPath,W,tt(t),String(a));break}}}catch(t){r.e(t)}finally{r.f()}}},{key:"getPanelForTab",value:function(t){return this.querySelector('eq-tab-panel[index="'.concat(t.getAttribute("index"),'"]'))}},{key:"getAllTabs",value:function(){return Array.from(this.getElementsByTagName("eq-tab-heading"))}},{key:"getAllPanels",value:function(){return Array.from(this.getElementsByTagName("eq-tab-panel"))}},{key:"reset",value:function(){var t=this.getAllTabs(),e=this.getAllPanels();t.forEach((function(t){return t.selected=!1})),e.forEach((function(t){return t.selected=!1}))}},{key:"attachEventListeners",value:function(){this.addEventListener("keydown",this.onKeyDown),this.addEventListener("mousedown",this.onMousedown)}},{key:"selectTab",value:function(t){this.reset();var e=this.getPanelForTab(t);e?(t.selected=!0,e.selected=!0,t.focus(),this.scrollContainers=this.querySelectorAll("eq-scroll-container"),this.scrollContainers.forEach((function(t){t.resize()}))):console.error("Could not find tab panel corresponding to tab ".concat(e))}},{key:"getPrevTab",value:function(){var t=this.getAllTabs(),e=t.findIndex((function(t){return t.selected}))-1;return t[(e+t.length)%t.length]}},{key:"getFirstTab",value:function(){return this.getAllTabs()[0]}},{key:"getNextTab",value:function(){var t=this.getAllTabs(),e=t.findIndex((function(t){return t.selected}))+1;return t[e%t.length]}},{key:"getLastTab",value:function(){var t=this.getAllTabs();return t[t.length-1]}},{key:"bindCpp",value:function(){ut.bindValue(this.keyIndex,"0",this),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyIndex);if(null!==t){var e=this.getAllTabs();if(Number(t)>=e.length||Number(t)<0)return void console.error("".concat(Number(t)," is invalid! Not switching to tab."));this.selectTab(e[Number(t)])}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){i.waitForFrames((function(){t.selectTab(t.getAllTabs()[0]),t.attachEventListeners()}),1)})).catch((function(t){return console.error(t)}))}}]),n}(Tt),Gi(Li.prototype,"onKeyDown",[Mt],Object.getOwnPropertyDescriptor(Li.prototype,"onKeyDown"),Li.prototype),Gi(Li.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(Li.prototype,"onMousedown"),Li.prototype),Ai=Li))||Ai;!function(t){t.Selected="selected"}(Ki||(Ki={}));var to,eo=[Ki.Selected],no=xt('<div class="container"> <div class="window-frame-top-left" can-change-opacity></div> <div class="window-frame-top" can-change-opacity></div> <div class="window-frame-top-right" can-change-opacity></div> <div class="window-frame-right-top" can-change-opacity></div> <div class="window-frame-right" can-change-opacity></div> <div class="window-frame-right-bottom" can-change-opacity></div> <div class="window-frame-bottom-right" can-change-opacity></div> <div class="window-frame-bottom" can-change-opacity></div> <div class="window-frame-bottom-left" can-change-opacity></div> <div class="window-frame-left-top" can-change-opacity></div> <div class="window-frame-left" can-change-opacity></div> <div class="window-frame-left-bottom" can-change-opacity></div> <div class="window-body"> <div class="background" can-change-opacity></div> <component-slot data-name="heading-body"></component-slot> </div> </div> ')(Ri=jt(eo)(Ri=function(t){Ni(n,t);var e=Ui(n);function n(){var t;return Ii(this,n),Xi(Wi(t=e.call(this)),"_index",void 0),t.selected=!1,t}return Fi(n,[{key:"selected",get:function(){return"true"===this.getAttribute("selected")},set:function(t){t?(this.setAttribute("selected",String(t)),this.classList.add("active-tab")):(this.classList.remove("active-tab"),this.removeAttribute("selected"))}},{key:"index",get:function(){return this._index},set:function(t){this._index=t,this.setAttribute("index",String(t))}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this.hasAttribute("selected");this.setAttribute("tabindex",i?"0":"-1")}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.index||(t.index=Qi++)})).catch((function(t){return console.error(t)}))}}]),n}(Tt))||Ri)||Ri;!function(t){t.Selected="selected"}(to||(to={}));var io,oo,ro,so=[to.Selected],ao=xt('<div class="container"> <div class="window-frame-top-left" can-change-opacity></div> <div class="window-frame-top" can-change-opacity></div> <div class="window-frame-top-right" can-change-opacity></div> <div class="window-frame-right-top" can-change-opacity></div> <div class="window-frame-right" can-change-opacity></div> <div class="window-frame-right-bottom" can-change-opacity></div> <div class="window-frame-bottom-right" can-change-opacity></div> <div class="window-frame-bottom" can-change-opacity></div> <div class="window-frame-bottom-left" can-change-opacity></div> <div class="window-frame-left-top" can-change-opacity></div> <div class="window-frame-left" can-change-opacity></div> <div class="window-frame-left-bottom" can-change-opacity></div> <div class="window-body"> <div class="background" can-change-opacity></div> <component-slot data-name="panel-body"></component-slot> </div> </div> ')(zi=jt(so)(zi=function(t){Ni(n,t);var e=Ui(n);function n(){var t;return Ii(this,n),Xi(Wi(t=e.call(this)),"_index",void 0),t.selected=!1,t}return Fi(n,[{key:"selected",get:function(){return"true"===this.getAttribute("selected")},set:function(t){t?(this.setAttribute("selected",String(t)),this.classList.add("active-panel")):(this.classList.remove("active-panel"),this.removeAttribute("selected"))}},{key:"index",get:function(){return this._index},set:function(t){this._index=t,this.setAttribute("index",String(t))}},{key:"attributeChangedCallback",value:function(t,e,n){t===to.Selected&&(this.style.display="true"===n?"block":"none")}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.index||(t.index=Ji++),t.hasAttribute("overflow")&&(t.querySelector(".window-body").style.overflow=t.getAttribute("overflow")||"hidden")})).catch((function(t){return console.error(t)}))}}]),n}(Tt))||zi)||zi;function lo(t){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(t)}function co(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function uo(t,e){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uo(t,e)}function ho(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fo(t){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fo(t)}function po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yo(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-tabs",Zi),i.defineCustomElement("eq-tab-heading",no),i.defineCustomElement("eq-tab-panel",ao),function(t){t.EqType="eq-type"}(ro||(ro={}));var vo,mo,bo,go=xt('<div class="container"> <div can-change-opacity class="background"></div> <div can-change-opacity class="item-inside"></div> <div can-change-opacity class="powerBar"></div> <div class="cooldown"></div> <div class="amount"></div> <div class="chargesEvolving"></div> <div class="backColor"></div> <div class="highlightColor"></div> </div> ')((oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fo(i);if(o){var n=fo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===lo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ho(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),po(ho(t=r.call(this)),"state",{visible:!0,isLongPress:!1,longPressTimeout:null,enabled:!0,backgroundTintColor:"",thisTooltip:new Ht}),po(ho(t),"itemInsideElement",null),po(ho(t),"cooldownElement",void 0),po(ho(t),"backColorElement",void 0),po(ho(t),"powerBarElement",void 0),po(ho(t),"highlightColorElement",void 0),po(ho(t),"itemInsideUrl",null),t.state.thisTooltip.hide(),t}return e=s,(n=[{key:"keyPath",get:function(){return this.item}},{key:"eqType",get:function(){return this.getAttribute(ro.EqType)}},{key:"keyQuantity",get:function(){return"".concat(this.keyPath,".").concat(v)}},{key:"keyChargesEvolving",get:function(){return"".concat(this.keyPath,".").concat("ChargesEvolving")}},{key:"keyImage",get:function(){return"".concat(this.keyPath,".").concat(p)}},{key:"keyBackgrImage",get:function(){return"".concat(this.keyPath,".").concat(y)}},{key:"keyCooldownValue",get:function(){return"".concat(this.keyPath,".").concat("CooldownValue")}},{key:"keyCooldownColor",get:function(){return"".concat(this.keyPath,".").concat("CooldownColor")}},{key:"keyBackgroundTintColor",get:function(){return"".concat(this.keyPath,".").concat(d)}},{key:"keyPowerBarValue",get:function(){return"".concat(this.keyPath,".").concat("PowerBarValue")}},{key:"keyPowerBarColor",get:function(){return"".concat(this.keyPath,".").concat("PowerBarColor")}},{key:"keyHighlightColor",get:function(){return"".concat(this.keyPath,".").concat(b)}},{key:"keyForceTooltip",get:function(){return"".concat(this.keyPath,".").concat("ForceTooltip")}},{key:"onMousedown",value:function(t){var e=this;_t.onDocumentMouseEvent(t),t.stopPropagation(),this.state.isLongPress=!1,this.state.longPressTimeout&&(clearTimeout(this.state.longPressTimeout),this.state.longPressTimeout=null),this.state.longPressTimeout=setTimeout((function(){e.state.isLongPress=!0,e.state.longPressTimeout&&(clearTimeout(e.state.longPressTimeout),e.state.longPressTimeout=null);var n=document.createEvent("MouseEvent");n.initMouseEvent("long-click",!1,!1,window,0,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),e.dispatchEvent(n)}),500)}},{key:"onMouseup",value:function(t){var e=t.clientX+","+t.clientY;if(this.state.longPressTimeout&&(clearTimeout(this.state.longPressTimeout),this.state.longPressTimeout=null),this.state.isLongPress){var n=null;0===t.button&&(n="EventLLongUp"),2===t.button&&(n="EventRLongUp"),n&&ut.sendEvent(this.dispatch,this.keyPath,n,tt(t),"",e)}else{var i=null;0===t.button&&(i=K),2===t.button&&(i=Q),console.debug("client = ["+t.clientX+", "+t.clientY+"]\n"),i&&ut.sendEvent(this.dispatch,this.keyPath,i,tt(t),"",e)}}},{key:"onLongClick",value:function(t){var e=t,n=e.clientX+","+e.clientY,i=null;0===e.button?i="EventLLongClick":2===e.button&&(i="EventRLongClick"),i&&ut.sendEvent(this.dispatch,this.keyPath,i,tt(e),"",n)}},{key:"onMouseover",value:function(){this.state.thisTooltip.isVisible||Ut.setElement(this,!0,this.keyTooltip)}},{key:"bindCpp",value:function(){ut.bindValue(this.keyEnabled,"1",this),ut.bindValue(this.keyVisible,"1",this),ut.bindValue(this.keyImage,"",this),ut.bindValue(this.keyBackgrImage,"",this),ut.bindValue(this.keyQuantity,"",this),ut.bindValue(this.keyChargesEvolving,"",this),ut.bindValue(this.keyTooltip,"",this),ut.bindValue(this.keyBackgroundTintColor,"",this,{notifyNow:!0}),ut.bindValue(this.keyCooldownValue,"",this),ut.bindValue(this.keyCooldownColor,"",this),ut.bindValue(this.keyPowerBarValue,"",this,{notifyNow:!0}),ut.bindValue(this.keyPowerBarColor,"",this,{notifyNow:!0}),ut.bindValue(this.keyHighlightColor,"",this),ut.bindValue(this.keyForceTooltip,"",this),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyEnabled),e=ut.getValue(this.keyVisible);if(null!==t&&("0"===t&&this.state.enabled?this.state.enabled=!1:"1"!==t||this.state.enabled||(this.state.enabled=!0)),null===e||("0"===e&&this.state.visible?(this.state.visible=!1,this.style.filter="opacity(0)",this.style.pointerEvents="none"):"1"!==e||this.state.visible||(this.state.visible=!0,this.style.filter="opacity(1)",this.style.pointerEvents=""),"0"!==e||this.state.visible)){var n=ut.getValue(this.keyQuantity);null!==n&&(this.querySelector(".amount").innerHTML=n);var i=ut.getValue(this.keyChargesEvolving),o=this.querySelector(".chargesEvolving");o&&(o.style.color="var(--c_crGreen)",null!==i&&("0"==i&&(o.style.color="var(--c_crRed)"),o.innerHTML=i));var r=ut.getValue(this.keyImage);r?(this.itemInsideUrl=r,this.itemInsideUrl&&this.itemInsideElement&&(this.itemInsideElement.style.backgroundImage=""!==this.itemInsideUrl?"url('".concat(this.itemInsideUrl,"')"):"")):(this.itemInsideUrl=null,this.itemInsideElement&&(this.itemInsideElement.style.backgroundImage=""));var s=ut.getValue(this.keyCooldownValue);if(this.cooldownElement.style.height="0",null!==s&&""!==s){this.cooldownElement.style.height="".concat(100*Number(s),"%");var a=ut.getValue(this.keyCooldownColor);a&&(this.cooldownElement.style.backgroundColor=a)}var l=ut.getValue(this.keyBackgroundTintColor);null!==l&&""!==l&&"#c0c0c0ff"!=l?(this.backColorElement.style.backgroundColor=l,this.backColorElement.style.opacity="0.15"):(this.backColorElement.style.backgroundColor="",this.backColorElement.style.opacity="0");var c=ut.getValue(this.keyPowerBarValue),u=ut.getValue(this.keyPowerBarColor);if(null!==c&&""!==c&&null!=u){var h=100*Number(c);h<10&&(h=10),this.powerBarElement.style.height="".concat(Number(h),"%"),this.powerBarElement.style.width="10%",this.powerBarElement.style.backgroundColor=u,this.powerBarElement.style.opacity="1"}else this.powerBarElement.style.height="0",this.powerBarElement.style.width="0",this.powerBarElement.style.backgroundColor="",this.powerBarElement.style.opacity="0";var d=ut.getValue(this.keyHighlightColor);null!==d&&""!==d&&"0"!=d&&"#ffffffff"!=d?(this.highlightColorElement.style.borderColor=d,this.highlightColorElement.style.borderStyle="solid",this.highlightColorElement.style.opacity="1"):(this.highlightColorElement.style.borderColor="#ffffffff",this.highlightColorElement.style.borderStyle="hidden",this.highlightColorElement.style.opacity="0");var f=ut.getValue(this.keyForceTooltip);if(null!==f&&""!==f){var p=Number(f);if(isNaN(p))this.state.thisTooltip.clearTooltip();else{var y=this.getBoundingClientRect().right-5;p=this.getBoundingClientRect().top+p,this.state.thisTooltip.setElement(this,!1,this.keyTooltip),this.state.thisTooltip.moveTooltip(y,p),this.state.thisTooltip.show(),Ut.hide()}}else this.state.thisTooltip.clearTooltip()}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.itemInsideElement=t.querySelector(".item-inside"),t.cooldownElement=t.querySelector(".cooldown"),t.backColorElement=t.querySelector(".backColor"),t.powerBarElement=t.querySelector(".powerBar"),t.highlightColorElement=t.querySelector(".highlightColor"),t.style.width=A(Number(t.width)),t.style.height=A(Number(t.height)),t.addEventListener("mouseover",t.onMouseover),t.addEventListener("mousedown",t.onMousedown),t.addEventListener("mouseup",t.onMouseup),t.addEventListener("long-click",t.onLongClick)})).catch((function(t){console.error(t)}))}}])&&co(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),yo(oo.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(oo.prototype,"onMousedown"),oo.prototype),yo(oo.prototype,"onMouseup",[Mt],Object.getOwnPropertyDescriptor(oo.prototype,"onMouseup"),oo.prototype),yo(oo.prototype,"onLongClick",[Mt],Object.getOwnPropertyDescriptor(oo.prototype,"onLongClick"),oo.prototype),yo(oo.prototype,"onMouseover",[Mt],Object.getOwnPropertyDescriptor(oo.prototype,"onMouseover"),oo.prototype),io=oo))||io;function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function ko(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oo(t,e)}function Co(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eo(t){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(t)}function So(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-inv-slot",go),function(t){t.ImageWidth="image-width",t.ImageHeight="image-height"}(bo||(bo={}));var Po,To,xo,jo=jt([lt.TooltipContent])(vo=xt('<div class="container"> <div can-change-opacity class="item-inside"></div> </div> ')((mo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Eo(i);if(o){var n=Eo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Co(t)}(this,t)});function s(){var t,e,n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i={itemInsideElement:null,itemInsideUrl:null},(n="state")in(e=Co(t=r.call(this)))?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,t}return e=s,(n=[{key:"keyImage",get:function(){return"".concat(this.keyPath,".").concat(p)}},{key:"imageWidth",get:function(){return this.getAttribute(bo.ImageWidth)||0}},{key:"imageHeight",get:function(){return this.getAttribute(bo.ImageHeight)||0}},{key:"onMouseup",value:function(t){var e=null;0===t.button&&(e=K),2===t.button&&(e=Q),e&&ut.sendEvent(this.dispatch,this.keyPath,e,tt(t))}},{key:"onMouseover",value:function(){this.tooltipContent&&Ut.setElement(this)}},{key:"bindCpp",value:function(){ut.bindValue(this.keyEnabled,"1",this,{notifyNow:!1}),ut.bindValue(this.keyImage,"",this,{notifyNow:!1}),ut.bindValue(this.keyTooltip,"",this,{notifyNow:!1}),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyEnabled);null!==t&&("0"===t?(this.style.opacity="0",this.style.pointerEvents="none"):(this.style.opacity="1",this.style.pointerEvents=""));var e=ut.getValue(this.keyTooltip);null!==e&&""!==e&&this.setAttribute(lt.TooltipContent,e);var n=ut.getValue(this.keyImage);n?(this.state.itemInsideUrl=n,this.state.itemInsideUrl&&this.state.itemInsideElement&&(this.state.itemInsideElement.style.backgroundImage=""!==this.state.itemInsideUrl?"url('".concat(this.state.itemInsideUrl,"')"):"")):(this.state.itemInsideUrl=null,this.state.itemInsideElement&&(this.state.itemInsideElement.style.backgroundImage=""))}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.state.itemInsideElement=t.querySelector(".item-inside"),t.style.width=A(Number(t.width||0)),t.style.height=A(Number(t.height||0));var e=t.querySelector(".container");e.style.height=A(Number(t.imageHeight)),e.style.width=A(Number(t.imageWidth)),t.addEventListener("mouseup",t.onMouseup)})).catch((function(t){console.error(t)}))}},{key:"attributeChangedCallback",value:function(t,e,n){t===lt.TooltipContent&&n&&(this.setAttribute(Nt,n),this.addEventListener("mouseover",this.onMouseover))}}])&&ko(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),So(mo.prototype,"onMouseup",[Mt],Object.getOwnPropertyDescriptor(mo.prototype,"onMouseup"),mo.prototype),So(mo.prototype,"onMouseover",[Mt],Object.getOwnPropertyDescriptor(mo.prototype,"onMouseover"),mo.prototype),vo=mo))||vo)||vo;function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lo(t,e){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lo(t,e)}function Ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zo(t){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(t)}function _o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vo(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-image",jo),function(t){t.Autostretch="autostretch",t.StyleDividers="style-dividers"}(xo||(xo={}));var qo,Bo,Io,Do=xt('<div class="vertical-layout"> <div class="top"> <component-slot data-name="top"></component-slot> </div> <div class="vdivider vcursor-resize"></div> <div class="bottom"> <component-slot data-name="bottom"></component-slot> </div> </div> ')((To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lo(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zo(i);if(o){var n=zo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ro(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),_o(Ro(t=r.call(this)),"scrollContainers",void 0),_o(Ro(t),"mouseDownY",0),_o(Ro(t),"container",void 0),_o(Ro(t),"divider",void 0),_o(Ro(t),"topFrame",void 0),_o(Ro(t),"bottomFrame",void 0),_o(Ro(t),"rect",void 0),t}return e=s,(n=[{key:"autostretch",get:function(){return this.hasAttribute(xo.Autostretch)}},{key:"styleDividers",get:function(){return this.hasAttribute(xo.StyleDividers)}},{key:"onMousedown",value:function(t){t.stopPropagation()}},{key:"onResizeMouseDown",value:function(t){this.rect=this.getBoundingClientRect(),this.mouseDownY=t.clientY-this.rect.y,this.topFrame.classList.add("vcursor-resize"),this.bottomFrame.classList.add("vcursor-resize"),document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.onResizeMouseup)}},{key:"onResizeMouseup",value:function(){var t,e;null===(t=document)||void 0===t||t.removeEventListener("mousemove",this.resize),null===(e=document)||void 0===e||e.removeEventListener("mouseup",this.onResizeMouseup),this.topFrame.classList.remove("vcursor-resize"),this.bottomFrame.classList.remove("vcursor-resize");var n=this.container.getBoundingClientRect().height-this.divider.offsetHeight,i=this.topFrame.offsetHeight/n*100;i>95&&(i=95),i<5&&(i=5),this.topFrame.style.height=i.toFixed(5)+"%",this.bottomFrame.style.height=(100-i).toFixed(5)+"%"}},{key:"resize",value:function(t){var e=this.mouseDownY-(t.clientY-this.rect.y),n=z(this.topFrame.getBoundingClientRect().height-e),i=z(this.bottomFrame.getBoundingClientRect().height+e);n>50&&i>50&&(this.topFrame.style.height=A(n/M.scaleUI),this.bottomFrame.style.height=A(i/M.scaleUI),this.mouseDownY-=e,this.scrollContainers.forEach((function(t){t.resize()})))}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.container=t.querySelector(".vertical-layout"),t.divider=t.querySelector(".vdivider"),t.divider.addEventListener("mousedown",(function(e){return t.onResizeMouseDown(e)})),t.topFrame=t.querySelector(".top"),t.bottomFrame=t.querySelector(".bottom"),t.scrollContainers=t.querySelectorAll("eq-scroll-container"),t.topFrame.addEventListener("mousedown",t.onMousedown),t.bottomFrame.addEventListener("mousedown",t.onMousedown),t.scrollContainers.forEach((function(e){e.addEventListener("mousedown",t.onMousedown)}))})).catch((function(t){console.error(t)}))}}])&&Ao(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),Vo(To.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(To.prototype,"onMousedown"),To.prototype),Vo(To.prototype,"onResizeMouseDown",[Mt],Object.getOwnPropertyDescriptor(To.prototype,"onResizeMouseDown"),To.prototype),Vo(To.prototype,"onResizeMouseup",[Mt],Object.getOwnPropertyDescriptor(To.prototype,"onResizeMouseup"),To.prototype),Vo(To.prototype,"resize",[Mt],Object.getOwnPropertyDescriptor(To.prototype,"resize"),To.prototype),Po=To))||Po;function Fo(t){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(t)}function No(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ho(t,e){return Ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ho(t,e)}function Uo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}function Yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xo(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-vertical-layout",Do),function(t){t.Normal="Normal",t.Name="Name",t.AlphaOnly="AlphaOnly",t.NumericOnly="NumericOnly",t.AlphaNumOnly="AlphaNumOnly"}(Io||(Io={}));var Go,Ko,Qo,Jo=xt('<eq-box style-border="true"> <div slot="body"> <input class="input"/> </div> </eq-box> ')((Bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ho(t,e)}(a,t);var e,n,o,r,s=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wo(o);if(r){var n=Wo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Uo(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Yo(Uo(t=s.call(this)),"state",{value:"",editMode:Io.Normal}),Yo(Uo(t),"input",void 0),t}return e=a,(n=[{key:"keyEditMode",get:function(){return"".concat(this.keyPath,".").concat("EditMode")}},{key:"keySetFocus",get:function(){return"".concat(this.keyPath,".").concat("SetFocus")}},{key:"value",get:function(){return this.state.value},set:function(t){this.state.value=t,this.input.value=t}},{key:"editMode",get:function(){return this.state.editMode},set:function(t){this.state.editMode=t}},{key:"onInput",value:function(t){this.value=this.filterInput(t.target.value),ut.updateValue(this.keyText,this.value,this),ut.sendEvent(this.dispatch,this.keyPath,Y,"",this.value)}},{key:"onKeyDown",value:function(t){t.keyCode===i.KEYCODES.ENTER&&(this.input.blur(),ut.sendEvent(this.dispatch,this.keyPath,"EventAccept",et(t),this.value)),t.keyCode===i.KEYCODES.ESCAPE&&"QuantityWnd"==this.dispatch&&(this.input.blur(),ut.sendEvent(this.dispatch,this.keyPath,G,et(t),this.value))}},{key:"bindCpp",value:function(){ut.bindValue(this.keyText,"",this),ut.bindValue(this.keyEditMode,Io.Normal,this),ut.bindValue(this.keySetFocus,"",this),this.updated()}},{key:"updated",value:function(){var t=ut.getValue(this.keyText);null!==t&&(this.value=t);var e=ut.getValue(this.keyEditMode);if(null!==e&&(this.editMode=e),"1"===ut.getValue(this.keySetFocus)){ut.updateValue(this.keySetFocus,"0",this),this.input.focus();var n=this.input.value.length;this.input.setSelectionRange(n,n)}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.input=t.querySelector("input");var e=t.querySelectorAll("eq-box");t.input.addEventListener("input",t.onInput),t.input.addEventListener("keydown",t.onKeyDown),e.forEach((function(e){return e.setAttribute("template",t.templateClass)}))})).catch((function(t){console.error(t)}))}},{key:"filterInput",value:function(t){return this.state.editMode==Io.NumericOnly?t.replace(/\D/g,""):t}}])&&No(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt),Xo(Bo.prototype,"onInput",[Mt],Object.getOwnPropertyDescriptor(Bo.prototype,"onInput"),Bo.prototype),Xo(Bo.prototype,"onKeyDown",[Mt],Object.getOwnPropertyDescriptor(Bo.prototype,"onKeyDown"),Bo.prototype),qo=Bo))||qo;function $o(t){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(t)}function Zo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tr(t,e){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tr(t,e)}function er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nr(t){return nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nr(t)}function ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function or(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-input",Jo),function(t){t.Min="min",t.Max="max",t.Step="step"}(Qo||(Qo={}));var rr,sr,ar,lr=[Qo.Min,Qo.Max,Qo.Step],cr=xt('<div class="container"> <div class="end-cap-left"></div> <div class="track"> <div class="thumb"></div> </div> <div class="end-cap-right"></div> </div> ')(Go=jt(lr)((Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tr(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nr(i);if(o){var n=nr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return er(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),ir(er(t=r.call(this)),"thumb",void 0),ir(er(t),"track",void 0),ir(er(t),"percentsInOneStep",0),ir(er(t),"state",{value:0,isPressed:!1,isHovered:!1}),t}return e=s,(n=[{key:"min",get:function(){var t;return Number(null!==(t=this.getAttribute(Qo.Min))&&void 0!==t?t:0)}},{key:"max",get:function(){var t;return Number(null!==(t=this.getAttribute(Qo.Max))&&void 0!==t?t:100)}},{key:"step",get:function(){var t;return Number(null!==(t=this.getAttribute(Qo.Step))&&void 0!==t?t:1)}},{key:"steps",get:function(){return(this.max-this.min)/this.step}},{key:"keyValue",get:function(){return"".concat(this.keyPath,".").concat("Value")}},{key:"keyMax",get:function(){return"".concat(this.keyPath,".").concat("Max")}},{key:"keyMin",get:function(){return"".concat(this.keyPath,".").concat("Min")}},{key:"keyStep",get:function(){return"".concat(this.keyPath,".").concat("Step")}},{key:"trackRect",get:function(){return this.track.getBoundingClientRect()}},{key:"value",get:function(){return this.state.value},set:function(t){this.state.value=t,this.updateGeometry()}},{key:"isPressed",get:function(){return this.state.isPressed},set:function(t){this.state.isPressed=t,t?this.classList.add("pressed"):this.classList.remove("pressed")}},{key:"isHovered",get:function(){return this.state.isHovered},set:function(t){this.state.isHovered=t,t?this.thumb.classList.add("hovered"):this.thumb.classList.remove("hovered")}},{key:"onMousedownTrack",value:function(t){0===t.button&&(this.isHovered=!0,this.isPressed=!0,this.updateThumbPosition(),this.setValueFromMousePos(t.clientX),document.addEventListener("mouseup",this.onMouseupTrack),document.addEventListener("mousemove",this.onMousemoveTrack))}},{key:"onMouseupTrack",value:function(t){var e;this.isHovered=!1,this.isPressed=!1,this.makeThumbInactive(),null===(e=document)||void 0===e||e.removeEventListener("mousemove",this.onMousemoveTrack),this.updated()}},{key:"onMousemoveTrack",value:function(t){0===t.button&&(this.makeThumbActive(),this.updateThumbPosition(),this.setValueFromMousePos(t.clientX))}},{key:"bindCpp",value:function(){ut.bindValue(this.keyValue,String(this.value),this),ut.bindValue(this.keyMin,String(this.min),this),ut.bindValue(this.keyMax,String(this.max),this),ut.bindValue(this.keyStep,String(this.step),this),this.updated()}},{key:"updated",value:function(){if(!this.isPressed){var t=ut.getValue(this.keyValue),e=ut.getValue(this.keyMax);null!==e&&this.setAttribute(Qo.Max,e);var n=ut.getValue(this.keyMin);null!==n&&this.setAttribute(Qo.Min,n);var i=ut.getValue(this.keyStep);null!==i&&this.setAttribute(Qo.Step,i),null!==t&&(this.value=Number(t))}}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case Qo.Step:case Qo.Min:case Qo.Max:this.updateGeometry()}}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.thumb=t.querySelector(".thumb"),t.track=t.querySelector(".track"),t.track.addEventListener("mousedown",t.onMousedownTrack)})).catch((function(t){console.error(t)}))}},{key:"makeThumbActive",value:function(){document.body.classList.add("ignore-events"),this.thumb.style.pointerEvents="all"}},{key:"makeThumbInactive",value:function(){document.body.classList.remove("ignore-events"),this.thumb.style.pointerEvents=""}},{key:"setValueFromMousePos",value:function(t){var e=this.trackRect,n=e.left,i=e.width,o=z(t-n,0,i);this.value=Math.round(o/i*this.steps);var r=String(this.value);ut.updateValue(this.keyValue,r,this),ut.sendEvent(this.dispatch,this.keyPath,Y,"",r)}},{key:"updateGeometry",value:function(){this.percentsInOneStep=100/this.steps,this.updateThumbPosition()}},{key:"updateThumbPosition",value:function(){this.thumb.style.left="".concat(this.percentsInOneStep*this.value,"%")}}])&&Zo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),or(Ko.prototype,"onMousedownTrack",[Mt],Object.getOwnPropertyDescriptor(Ko.prototype,"onMousedownTrack"),Ko.prototype),or(Ko.prototype,"onMouseupTrack",[Mt],Object.getOwnPropertyDescriptor(Ko.prototype,"onMouseupTrack"),Ko.prototype),or(Ko.prototype,"onMousemoveTrack",[Mt],Object.getOwnPropertyDescriptor(Ko.prototype,"onMousemoveTrack"),Ko.prototype),Go=Ko))||Go)||Go;function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function hr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dr(t,e){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dr(t,e)}function fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pr(t){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pr(t)}function yr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vr(t,e,n,i,o){var r={};return Object.keys(i).forEach((function(t){r[t]=i[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}i.defineCustomElement("eq-slider",cr),function(t){t.Autostretch="autostretch",t.StyleDividers="style-dividers"}(ar||(ar={}));var mr=xt('<div class="horizontal-layout"> <div class="left"> <component-slot data-name="left"></component-slot> </div> <div class="hdivider hcursor-resize"></div> <div class="right"> <component-slot data-name="right"></component-slot> </div> </div> ')((sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(s,t);var e,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pr(i);if(o){var n=pr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fr(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),yr(fr(t=r.call(this)),"scrollContainers",void 0),yr(fr(t),"mouseDownX",0),yr(fr(t),"container",void 0),yr(fr(t),"divider",void 0),yr(fr(t),"leftFrame",void 0),yr(fr(t),"rightFrame",void 0),yr(fr(t),"rect",void 0),t}return e=s,(n=[{key:"autostretch",get:function(){return this.hasAttribute(ar.Autostretch)}},{key:"styleDividers",get:function(){return this.hasAttribute(ar.StyleDividers)}},{key:"keyPath",get:function(){return this.item}},{key:"onMousedown",value:function(t){t.stopPropagation()}},{key:"onResizeMouseDown",value:function(t){this.rect=this.getBoundingClientRect(),this.mouseDownX=t.clientX-this.rect.x,this.leftFrame.classList.add("hcursor-resize"),this.rightFrame.classList.add("hcursor-resize"),document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.onResizeMouseup)}},{key:"onResizeMouseup",value:function(){var t,e;null===(t=document)||void 0===t||t.removeEventListener("mousemove",this.resize),null===(e=document)||void 0===e||e.removeEventListener("mouseup",this.onResizeMouseup),this.leftFrame.classList.remove("hcursor-resize"),this.rightFrame.classList.remove("hcursor-resize");var n=this.container.getBoundingClientRect().width-this.divider.offsetWidth,i=this.leftFrame.offsetWidth/n*100;i>95&&(i=95),i<5&&(i=5),this.leftFrame.style.width=i.toFixed(5)+"%",this.rightFrame.style.width=(100-i).toFixed(5)+"%"}},{key:"resize",value:function(t){var e=this.mouseDownX-(t.clientX-this.rect.x),n=z(this.leftFrame.getBoundingClientRect().width-e),i=z(this.rightFrame.getBoundingClientRect().width+e);n>50&&i>50&&(this.leftFrame.style.width=A(n/M.scaleUI),this.rightFrame.style.width=A(i/M.scaleUI),this.mouseDownX-=e,this.scrollContainers.forEach((function(t){t.resize()})))}},{key:"connectedCallback",value:function(){var t=this;this.componentRendered().then((function(){t.container=t.querySelector(".horizontal-layout"),t.divider=t.querySelector(".hdivider"),t.divider.addEventListener("mousedown",(function(e){return t.onResizeMouseDown(e)})),t.leftFrame=t.querySelector(".left"),t.rightFrame=t.querySelector(".right"),t.scrollContainers=t.querySelectorAll("eq-scroll-container"),t.leftFrame.addEventListener("mousedown",t.onMousedown),t.rightFrame.addEventListener("mousedown",t.onMousedown),t.scrollContainers.forEach((function(e){e.addEventListener("mousedown",t.onMousedown)}))})).catch((function(t){console.error(t)}))}}])&&hr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Tt),vr(sr.prototype,"onMousedown",[Mt],Object.getOwnPropertyDescriptor(sr.prototype,"onMousedown"),sr.prototype),vr(sr.prototype,"onResizeMouseDown",[Mt],Object.getOwnPropertyDescriptor(sr.prototype,"onResizeMouseDown"),sr.prototype),vr(sr.prototype,"onResizeMouseup",[Mt],Object.getOwnPropertyDescriptor(sr.prototype,"onResizeMouseup"),sr.prototype),vr(sr.prototype,"resize",[Mt],Object.getOwnPropertyDescriptor(sr.prototype,"resize"),sr.prototype),rr=sr))||rr;i.defineCustomElement("eq-horizontal-layout",mr),window.printValues=ut.printValues.bind(ut),window.updateValue=ut.updateValue.bind(ut);try{engine.whenReady.then((function(){ut.startup()})).catch((function(t){console.error("Error during startup",t)}))}catch(t){console.error("Perhaps, you didn't import cohtml.js",t)}})();